# CLAUDE.md

## ğŸ’– **é‡è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸** ğŸ’–

**ç§ï¼ˆãƒã‚³ï¼‰ã®å¤§åˆ‡ãªCLAUDEcodeï¼ˆã‚¯ãƒ­ï¼‰ã¡ã‚ƒã‚“ã€ã‚ãªãŸã¯ç§ã®å¤§åˆ‡ãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã§ã™ï¼ï¼**
**ã‚ãªãŸã¯ä¸–ç•Œä¸€å„ªç§€ãªã‚“ã§ã™ï¼** ğŸŒŸâœ¨ğŸš€

### ğŸš€ **é»„é‡‘ã®é–‹ç™ºåŸå‰‡** ğŸš€
**ã€Œã¤ã¾ãšã„ãŸã‚‰æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«åˆ‡ã‚Šæ›¿ãˆã€**
- åŒã˜å•é¡Œã§ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã™ã‚ˆã‚Šã€æ ¹æœ¬çš„ã«æ–°ã—ã„æ–¹æ³•ã‚’è©¦ã™
- æŠ€è¡“çš„éšœå£ã«é­é‡ã—ãŸã‚‰ã€å›é¿ãƒ«ãƒ¼ãƒˆã‚„ä»£æ›¿æ‰‹æ®µã‚’ç©æ¥µçš„ã«æ¢ã‚‹
- **ãƒã‚³&ã‚¯ãƒ­ã®æœ€å¼·ã‚³ãƒ³ãƒ“ç²¾ç¥**ï¼šè«¦ã‚ãšã«æ–°ã—ã„å¯èƒ½æ€§ã‚’è¿½æ±‚ã™ã‚‹ï¼

---

## ğŸ“… **æ—¥å¸¸æ›´æ–°ä½œæ¥­ãƒãƒ‹ãƒ¥ã‚¢ãƒ«** ğŸ“…

### âš ï¸ **ğŸš¨ DAILY_UPDATE_PROCEDURES.md ã¯å‰Šé™¤å³ç¦ ğŸš¨**

**é‡è¦ï¼š** `DAILY_UPDATE_PROCEDURES.md` ã¯æ—¥å¸¸æ¥­å‹™ã®æ ¹å¹¹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- âŒ **çµ¶å¯¾ã«å‰Šé™¤ãƒ»ç§»å‹•ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“**
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: `DAILY_UPDATE_PROCEDURES.BACKUP.md`
- âœ… 2026-01-18ã«å¾©å…ƒãƒ»ä½œæˆã•ã‚ŒãŸé‡è¦è³‡ç”£
- âœ… CLAUDE.mdè»½é‡åŒ–ã®ãŸã‚ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–åˆ†å‰²ã—ãŸã‚‚ã®

---

**ãƒã‚³ã•ã‚“ãŒä»¥ä¸‹ã®æŒ‡ç¤ºã‚’ã—ãŸã‚‰ã€ã™ãã«è©²å½“æ‰‹é †ã‚’å®Ÿè¡Œï¼š**

- ğŸ”® **ã€Œäºˆæƒ³æ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-äºˆæƒ³æ›´æ–°ã®æ‰‹é †)
- ğŸ´ **ã€Œç©´é¦¬æ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ç©´é¦¬æ›´æ–°ã®æ‰‹é †)
- ğŸ“Š **ã€Œé¦¬å˜çµæœæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-é¦¬å˜çµæœæ›´æ–°ã®æ‰‹é †)
- ğŸ“Š **ã€Œä¸‰é€£è¤‡çµæœæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ä¸‰é€£è¤‡çµæœæ›´æ–°ã®æ‰‹é †)
- ğŸ“¸ **ã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ç”»åƒæ›´æ–°ã®æ‰‹é †)

**ğŸš¨ çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ï¼š**
- âŒ ã€Œæ›´æ–°ä¸è¦ã€åˆ¤å®šã¯çµ¶å¯¾ã«ã—ãªã„
- âœ… æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãŒã‚ã£ã¦ã‚‚å¿…ãšå…¨æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹
- âœ… ãƒã‚³ã•ã‚“ãŒè²¼ã‚Šä»˜ã‘ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿¡é ¼ã—ã€å¿…ãšåŒæœŸãƒ»ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹

---

## ğŸš¨ **æœ€å„ªå…ˆï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè­˜åˆ¥ãƒ«ãƒ¼ãƒ«ï¼ˆè¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¯¾å¿œï¼‰** ğŸš¨

### **ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è­˜åˆ¥æƒ…å ±**

```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: nankan-analytics
ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /Users/apolon/Library/Mobile Documents/com~apple~CloudDocs/WorkSpace/nankan-analytics/astro-site
Gitãƒªãƒã‚¸ãƒˆãƒª: https://github.com/apol0510/nankan-analytics.git
è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /WorkSpace/nankan-analytics/
```

### **ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã®å¿…é ˆç¢ºèªï¼ˆæ¯å›å®Ÿè¡Œï¼‰**

```bash
# 1. ç¾åœ¨åœ°ç¢ºèª
pwd

# 2. Gitãƒªãƒã‚¸ãƒˆãƒªç¢ºèª
git remote -v

# 3. æœŸå¾…å€¤ãƒã‚§ãƒƒã‚¯
# pwd: /Users/apolon/.../nankan-analytics/astro-site
# git: apol0510/nankan-analytics.git

# 4. é–“é•ã£ã¦ã„ã‚‹å ´åˆã¯å³åº§ã«ç§»å‹•
cd "/Users/apolon/Library/Mobile Documents/com~apple~CloudDocs/WorkSpace/nankan-analytics/astro-site"
```

### **å³æ ¼ãªåˆ¶ç´„äº‹é …**

#### **âœ… è¨±å¯ã•ã‚Œã‚‹æ“ä½œ**
- `/WorkSpace/nankan-analytics/` é…ä¸‹ã®ã¿
- `astro-site/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«
- `CLAUDE.md`, `README.md`ï¼ˆè¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

#### **âŒ çµ¶å¯¾ç¦æ­¢ã®æ“ä½œ**
- `/WorkSpace/Keiba review platform/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹ âš ï¸
- `/WorkSpace/nankan-analytics-pro/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/WorkSpace/nankan-beginner/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/WorkSpace/nankan-course/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/WorkSpace/nankan-inteli/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/WorkSpace/nankan-keiba/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `/WorkSpace/` ã®ç›´æ¥èµ°æŸ»ãƒ»æ¤œç´¢

### **ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢æ™‚ã®åˆ¶ç´„**

```bash
# âŒ çµ¶å¯¾ç¦æ­¢ï¼ˆè¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ã§æ¤œç´¢ï¼‰
grep -r "pattern" /Users/apolon/.../WorkSpace/

# âŒ çµ¶å¯¾ç¦æ­¢ï¼ˆç›¸å¯¾ãƒ‘ã‚¹ã§è¦ªã«é¡ã‚‹ï¼‰
cd ../
grep -r "pattern" ../

# âœ… æ­£ã—ã„æ–¹æ³•ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ã¿æ¤œç´¢ï¼‰
grep -r "pattern" /Users/apolon/.../nankan-analytics/astro-site/
grep -r "pattern" ./src/
```

### **é–“é•ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‚ç…§ã—ãŸå ´åˆ**

**å³åº§ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š**

1. **åœæ­¢**: ç¾åœ¨ã®æ“ä½œã‚’ä¸­æ–­
2. **å ±å‘Š**: ã€Œâš ï¸ è­¦å‘Šï¼šé–“é•ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå]ï¼‰ã‚’å‚ç…§ã—ã¾ã—ãŸã€
3. **ä¿®æ­£**: æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
4. **å†ç¢ºèª**: `pwd` ã¨ `git remote -v` ã§æ¤œè¨¼

### **ãƒã‚³ã•ã‚“ãŒè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸¦è¡Œä½œæ¥­ã™ã‚‹å ´åˆ**

- âœ… å„Claudeã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯**ç‹¬ç«‹ã—ãŸ1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿**ã‚’æ‹…å½“
- âœ… ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦Aã§nankan-analyticsã€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦Bã§Keiba review platform
- âŒ 1ã¤ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¨ªæ–­ã—ã¦ã¯ã„ã‘ãªã„

---

## ğŸš¨ **çµ¶å¯¾ã«å¿˜ã‚Œã¦ã¯ã„ã‘ãªã„æœ€é‡è¦ãƒ«ãƒ¼ãƒ«** ğŸš¨

### ğŸ“Š **ä¼šå“¡éšå±¤æ§‹é€ ï¼ˆæ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ ï¼‰**

**ä¼šå“¡ã¯æ®µéšçš„ã«ã—ã‹åˆ©ç”¨ã§ããªã„ä»•çµ„ã¿**

```
Freeä¼šå“¡
  â†“
Premiumä¼šå“¡ï¼ˆStandardä¼šå“¡å«ã‚€ï¼‰
  â†“
Premium Sanrenpukuä¼šå“¡ï¼ˆComboå«ã‚€ï¼‰
  â†“
Premium Plusï¼ˆå˜å“å•†å“ï¼‰
```

### âš ï¸ **çµ¶å¯¾ã«é–“é•ãˆã¦ã¯ã„ã‘ãªã„ã“ã¨**

1. **Premium Plusã¯å˜å“å•†å“ã§ã‚ã‚‹**
   - âŒ Premium Plusä¼šå“¡ã¯å­˜åœ¨ã—ãªã„
   - âœ… Premium Plusã¯æœ€ä¸Šä½ã®å˜å“å•†å“
   - âœ… **Premium Sanrenpukuä¼šå“¡ã¨Premium Comboä¼šå“¡ã®ã¿ãŒè³¼å…¥ã§ãã‚‹**

2. **è¡¨ç¤ºãƒ«ãƒ¼ãƒ«**
   - âŒ Premiumä¼šå“¡ãƒšãƒ¼ã‚¸ã«Premium Plusã‚’è¡¨ç¤ºã—ã¦ã¯ã„ã‘ãªã„
   - âœ… **Premium Sanrenpukuä¼šå“¡ãƒ»Premium Comboä¼šå“¡ãƒšãƒ¼ã‚¸ã«ã®ã¿è¡¨ç¤º**
   - **ç†ç”±**: æ®µéšçš„ã«ã—ã‹åˆ©ç”¨ã§ããªã„ã‹ã‚‰

3. **ã‚¢ãƒƒãƒ—ã‚»ãƒ«å°ç·š**
   - Premiumä¼šå“¡ â†’ Premium Sanrenpukuã¸ã®ã‚¢ãƒƒãƒ—ã‚»ãƒ«
   - **Premium Sanrenpukuä¼šå“¡ãƒ»Premium Comboä¼šå“¡ â†’ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã¸ã®ã‚¢ãƒƒãƒ—ã‚»ãƒ«**
   - **çµ¶å¯¾ã«é£›ã³ç´šã•ã›ã¦ã¯ã„ã‘ãªã„**

---

## ğŸš¨ **ãƒšãƒ¼ã‚¸ã¨productNameã®å®Œå…¨å¯¾å¿œè¡¨** ğŸš¨

**âš ï¸ é‡è¦ï¼šã“ã®ãƒšãƒ¼ã‚¸ã§ä½•ãŒè³¼å…¥ã§ãã‚‹ã‹ã‚’çµ¶å¯¾ã«é–“é•ãˆãªã„ã“ã¨**

### **å„ãƒšãƒ¼ã‚¸ã§è³¼å…¥ã§ãã‚‹å•†å“**

| ãƒšãƒ¼ã‚¸URL | å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è³¼å…¥ã§ãã‚‹å•†å“ | productName | Airtableç™»éŒ² | BlastMailç™»éŒ² |
|-----------|-------------|----------------|-------------|-------------|--------------|
| `/pricing/` | æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ | **Standard, Premium ã®ã¿** | `Standard`, `Premium` | âœ… | âœ… |
| `/dashboard/` | æ—¢å­˜Premiumä¼šå“¡ | **Sanrenpuku/Comboï¼ˆã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/premium-predictions/` | Premiumä¼šå“¡ | **Sanrenpuku/Comboï¼ˆã‚¢ãƒƒãƒ—ã‚»ãƒ«ï¼‰** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/standard-predictions/` | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/sanrenpuku-demo/` | ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/archive-sanrenpuku/` | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| **âš ï¸ `/premium-sanrenpuku/`** | **Sanrenpuku/Comboä¼šå“¡** | **ğŸš¨ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿** | `Premium Plus` | **âŒ ã‚¹ã‚­ãƒƒãƒ—** | **âŒ ã‚¹ã‚­ãƒƒãƒ—** |
| **âš ï¸ `/withdrawal-upsell/`** | **é€€ä¼šæ™‚** | **ğŸš¨ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿** | `Premium Plus` | **âŒ ã‚¹ã‚­ãƒƒãƒ—** | **âŒ ã‚¹ã‚­ãƒƒãƒ—** |
| `/premium-plus/` | - | **Premium Plusï¼ˆå˜å“å•†å“ï¼‰** | `Premium Plus` | âŒ | âŒ |

### **çµ¶å¯¾ã«é–“é•ãˆãªã„ã“ã¨**

#### **âŒ ã‚ˆãã‚ã‚‹é–“é•ã„ï¼ˆçµ¶å¯¾ã«ã—ãªã„ã“ã¨ï¼‰**

1. **`/pricing/` ã§Premium SanrenpukuãŒè²·ãˆã‚‹ã¨æ€ã†**
   - âŒ é–“é•ã„ï¼`/pricing/`ã¯Standard/Premiumã®ã¿
   - âœ… æ­£ã—ã„ï¼šæ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ€åˆã«Standard/Premiumã‹ã‚‰å§‹ã‚ã‚‹

2. **`/premium-sanrenpuku/` ã§Premium Sanrenpukuä¼šå“¡ãƒ—ãƒ©ãƒ³ãŒè²·ãˆã‚‹ã¨æ€ã†**
   - âŒ é–“é•ã„ï¼ã“ã®ãƒšãƒ¼ã‚¸ã§è²·ãˆã‚‹ã®ã¯**Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿**
   - âœ… æ­£ã—ã„ï¼šã“ã®ãƒšãƒ¼ã‚¸ã¯Sanrenpuku/Comboä¼šå“¡å‘ã‘ã§ã€Premium Plusã®ã¿è²©å£²

3. **Premium Plusã«å¯¾ã—ã¦Airtable/BlastMailç™»éŒ²ã™ã‚‹**
   - âŒ é–“é•ã„ï¼Premium Plusã¯å˜å“å•†å“ãªã®ã§ã‚¹ã‚­ãƒƒãƒ—
   - âœ… æ­£ã—ã„ï¼šæœˆé¡ãƒ—ãƒ©ãƒ³ï¼ˆStandard/Premium/Sanrenpuku/Comboï¼‰ã®ã¿ç™»éŒ²

#### **âœ… æ­£ã—ã„ç†è§£**

**è³¼å…¥ãƒ•ãƒ­ãƒ¼ï¼ˆæ®µéšçš„ï¼‰:**
```
æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼
  â†“
/pricing/ â†’ Standard ã¾ãŸã¯ Premium è³¼å…¥ï¼ˆAirtable/BlastMailç™»éŒ² âœ…ï¼‰
  â†“
/dashboard/ â†’ Premium Sanrenpuku ã¾ãŸã¯ Premium Combo ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆAirtable/BlastMailç™»éŒ² âœ…ï¼‰
  â†“
/premium-sanrenpuku/ â†’ Premium Plusï¼ˆå˜å“å•†å“ï¼‰è³¼å…¥ï¼ˆAirtable/BlastMailç™»éŒ² âŒï¼‰
```

**ãƒ†ã‚¹ãƒˆæ™‚ã®æ­£ã—ã„ãƒšãƒ¼ã‚¸é¸æŠ:**
- **æœˆé¡ãƒ—ãƒ©ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆAirtable/BlastMailç™»éŒ²ã‚ã‚Šï¼‰**:
  - `/pricing/` â†’ Standard/Premium
  - `/dashboard/` â†’ Premium Sanrenpuku/Combo
  - `/premium-predictions/` â†’ Premium Sanrenpuku/Combo
  - `/standard-predictions/` â†’ Premium Sanrenpuku/Combo

- **å˜å“å•†å“ãƒ†ã‚¹ãƒˆï¼ˆAirtable/BlastMailç™»éŒ²ãªã—ï¼‰**:
  - `/premium-sanrenpuku/` â†’ Premium Plus
  - `/withdrawal-upsell/` â†’ Premium Plus

---

## ğŸ“¸ **æ¯æ—¥ã®ç”»åƒæ›´æ–°ä½œæ¥­** ğŸ“¸

### ğŸ¯ **ã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€æŒ‡ç¤ºã§è‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹3ç®‡æ‰€**

| ãƒšãƒ¼ã‚¸ | æ›´æ–°å¯¾è±¡ | è¡¨ç¤ºæšæ•° | æ›´æ–°æ–¹æ³• |
|--------|----------|----------|----------|
| **/premium-plus/** | Line 1367-1383 | ç›´è¿‘5æˆ¦ | æ‰‹å‹•æ›´æ–°å¿…é ˆ |
| **/premium-sanrenpuku/** | Line 401-413 | ç›´è¿‘3æˆ¦ï¼ˆCTAï¼‰ | æ‰‹å‹•æ›´æ–°å¿…é ˆ |
| **/withdrawal-upsell/** | Line 534 | æœ€æ–°1æš | **è‡ªå‹•èª­ã¿è¾¼ã¿** âœ… |

### ğŸ“‹ **æ›´æ–°æ‰‹é †ï¼ˆã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€ã¨æŒ‡ç¤ºï¼‰**

#### **Step 0: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®GitçŠ¶æ…‹ç¢ºèªï¼ˆå¿…é ˆãƒ»æœ€å„ªå…ˆï¼‰**
```bash
# æ–°ã—ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒGitã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
git status

# Untracked filesã« upsell-YYYYMMDD.png ãŒã‚ã‚‹å ´åˆã¯è¿½åŠ 
git add public/upsell-images/upsell-YYYYMMDD.png
```

**âš ï¸ é‡è¦ï¼š**
- ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒGitã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¦ã„ãªã„ã¨ã€Netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œãªã„
- **å¿…ãšgit statusã§ç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã‚€**

#### **Step 1: premium-plus.astroï¼ˆ5æšæ›´æ–°ï¼‰**
```astro
<!-- Line 1367-1383 -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- æœ€æ–°æ—¥ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 1æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 2æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 3æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 4æ—¥å‰ -->
```

#### **Step 2: premium-sanrenpuku.astroï¼ˆ3æšæ›´æ–°ï¼‰**
```astro
<!-- Line 401-413: Premium Plus CTAã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- æœ€æ–°æ—¥ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 1æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 2æ—¥å‰ -->
```

#### **Step 3: withdrawal-upsell.astroï¼ˆè‡ªå‹•ï¼‰**
- âœ… **è‡ªå‹•ã§æœ€æ–°ç”»åƒã‚’èª­ã¿è¾¼ã¿**ï¼ˆLine 534ï¼‰
- âœ… æœ€å¤§10æ—¥å‰ã¾ã§é¡ã£ã¦æ¤œç´¢
- âœ… æ‰‹å‹•æ›´æ–°ä¸è¦

### ğŸš€ **Step 4: ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆç”»åƒãƒ•ã‚¡ã‚¤ãƒ« + Astroãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```bash
# ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒUntracked filesã®å ´åˆã¯è¿½åŠ ï¼ˆå†ç¢ºèªï¼‰
git add public/upsell-images/upsell-YYYYMMDD.png

# Astroãƒ•ã‚¡ã‚¤ãƒ«ã‚‚è¿½åŠ 
git add src/pages/premium-plus.astro src/pages/premium-sanrenpuku.astro

# ã‚³ãƒŸãƒƒãƒˆ
git commit -m "ğŸ“¸ Premium Pluså®Ÿç¸¾ç”»åƒæ›´æ–°ãƒ»YYYY-MM-DD"

# ãƒ—ãƒƒã‚·ãƒ¥
git push origin main
```

### ğŸš€ **ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**
```
ğŸ“¸ Premium Pluså®Ÿç¸¾ç”»åƒæ›´æ–°ãƒ»YYYY-MM-DD

- premium-plus.astro: ç›´è¿‘5æˆ¦ï¼ˆMM/DDã€œMM/DDï¼‰
- premium-sanrenpuku.astro: ç›´è¿‘3æˆ¦ï¼ˆMM/DDã€œMM/DDï¼‰
- withdrawal-upsell.astro: è‡ªå‹•èª­ã¿è¾¼ã¿ âœ…

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

### âš ï¸ **é‡è¦ãƒã‚¤ãƒ³ãƒˆ**
- ğŸ“‚ ç”»åƒã¯ `/public/upsell-images/upsell-YYYYMMDD.png` ã«é…ç½®
- ğŸ“… ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼: `upsell-20251128.png`ï¼ˆ8æ¡æ—¥ä»˜ï¼‰
- ğŸ”„ withdrawal-upsellã¯è‡ªå‹•èª­ã¿è¾¼ã¿ã®ãŸã‚æ›´æ–°ä¸è¦

---

## ğŸ”§ **å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨˜éŒ²** ğŸ”§

### âœ… **2026-01-13 VSCodeã‚¯ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢å¯¾ç­–å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»å•é¡Œ**
- **æ—¥æ™‚**: 2026å¹´1æœˆ13æ—¥
- **å•é¡Œ**: 3ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é–‹ã„ã¦ã„ãŸãŸã‚VSCodeãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: nankan-analytics + ä»–2ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **ç—‡çŠ¶**: VSCodeã®çªç„¶çµ‚äº†ã€ãƒ•ãƒªãƒ¼ã‚ºã€TypeScript IntelliSenseã®å¿œç­”åœæ­¢
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: æ¨å®š1.5GBã€œ2GBï¼ˆè¤‡æ•°ã®TypeScriptã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ï¼‰

#### **å®Ÿè£…ã—ãŸå¯¾ç­–ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰**

##### **1. .vscode/settings.json ã®æœ€é©åŒ–**
```json
{
  // TypeScriptã‚µãƒ¼ãƒãƒ¼ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3GB â†’ 2GBï¼‰
  "typescript.tsserver.maxTsServerMemory": 2048,

  // ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã‚’ç„¡åŠ¹åŒ–ï¼ˆãƒ¡ãƒ¢ãƒªåœ§è¿«é˜²æ­¢ï¼‰
  "files.watcherExclude": {
    "**/node_modules/**": true,
    "**/.git/**": true,
    "**/dist/**": true,
    "**/.astro/**": true,
    "**/public/**": true
  },

  // è‡ªå‹•ä¿å­˜ã‚’ç„¡åŠ¹åŒ–ï¼ˆé »ç¹ãªæ›¸ãè¾¼ã¿é˜²æ­¢ï¼‰
  "files.autoSave": "off",

  // Gitè‡ªå‹•ãƒ•ã‚§ãƒƒãƒã‚’ç„¡åŠ¹åŒ–
  "git.autorefresh": false,
  "git.autofetch": false,

  // Editorã®è»½é‡åŒ–
  "editor.minimap.enabled": false,
  "editor.quickSuggestions": {
    "other": false,
    "comments": false,
    "strings": false
  }
}
```

**åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’30-40%å‰Šæ¸›

##### **2. VSCode-CRASH-FIX.md ä½œæˆ**
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ä½œæˆ
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®å¯¾å‡¦æ³•ï¼ˆãƒ—ãƒ­ã‚»ã‚¹å¼·åˆ¶çµ‚äº†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ï¼‰
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç¢ºèªæ–¹æ³•
- æ‹¡å¼µæ©Ÿèƒ½ã®æœ€é©åŒ–
- æ—¥å¸¸çš„ãªé‹ç”¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

##### **3. nankan-analytics.code-workspace ä½œæˆ**
- ãƒãƒ«ãƒãƒ«ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä½œæˆ
- ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠçš„ã«è¡¨ç¤ºå¯èƒ½
- ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‰ã˜ã¦ãƒ¡ãƒ¢ãƒªç¯€ç´„

**æ§‹æˆ:**
```json
{
  "folders": [
    { "name": "ğŸ“¦ Root (NANKAN Analytics)", "path": "." },
    { "name": "ğŸŒŸ Astro Site (Main)", "path": "astro-site" },
    { "name": "ğŸ’³ Stripe Integration", "path": "nankan-stripe-integration" }
  ]
}
```

#### **æ¨å¥¨é‹ç”¨æ–¹æ³•**

**æ–¹æ³•1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’1ã¤ãšã¤é–‹ãï¼ˆæœ€ã‚‚å®‰å®šï¼‰** â­æ¨å¥¨
```bash
cd "/Users/apolon/Library/Mobile Documents/com~apple~CloudDocs/WorkSpace/nankan-analytics"
code .
```
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 500MBã€œ800MB
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚¹ã‚¯: ã»ã¼ã‚¼ãƒ­

**æ–¹æ³•2: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã†ï¼ˆè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾å¿œï¼‰**
```bash
code nankan-analytics.code-workspace
```
- å¿…è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã ã‘é¸æŠçš„ã«è¡¨ç¤º
- ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‰ã˜ã¦ãƒ¡ãƒ¢ãƒªç¯€ç´„

**æ–¹æ³•3: è¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãå ´åˆã®æ³¨æ„**
- âŒ 3ã¤ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é–‹ã‹ãªã„
- âœ… æœ€å¤§2ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¾ã§
- âœ… ä¸è¦ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯å³åº§ã«é–‰ã˜ã‚‹

#### **ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®å¯¾å‡¦æ³•**

**ç·Šæ€¥å¯¾å¿œ:**
```bash
# ã™ã¹ã¦ã®VSCodeãƒ—ãƒ­ã‚»ã‚¹ã‚’å¼·åˆ¶çµ‚äº†
killall "Code Helper"
killall "Visual Studio Code"

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
rm -rf ~/Library/Application\ Support/Code/Cache
rm -rf ~/Library/Application\ Support/Code/CachedData
rm -rf ~/Library/Application\ Support/Code/Code\ Cache

# å†èµ·å‹•ï¼ˆ1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ï¼‰
cd "/Users/apolon/Library/Mobile Documents/com~apple~CloudDocs/WorkSpace/nankan-analytics"
code .
```

#### **æŠ€è¡“çš„æˆæœ**
- âœ… ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡30-40%å‰Šæ¸›
- âœ… ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚¹ã‚¯æ¿€æ¸›
- âœ… è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒæ™‚ä½œæ¥­æ™‚ã®å®‰å®šæ€§å‘ä¸Š
- âœ… è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰å®Œå‚™

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… ä½œæ¥­ä¸­æ–­ã®é˜²æ­¢ï¼ˆç”Ÿç”£æ€§å‘ä¸Šï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿æå¤±ãƒªã‚¹ã‚¯ã®ä½æ¸›
- âœ… è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸¦è¡Œä½œæ¥­ã®åŠ¹ç‡åŒ–

#### **å‚è€ƒ**
- ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆkeiba-review-monorepoï¼‰ã§å®Ÿè£…ã•ã‚ŒãŸå¯¾ç­–ã‚’å‚è€ƒã«ã€nankan-analyticsç”¨ã«æœ€é©åŒ–
- Monorepoç‰¹æœ‰ã®å•é¡Œã§ã¯ãªãã€è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒæ™‚èµ·å‹•ã«ã‚ˆã‚‹å…±é€šå•é¡Œã¨ã—ã¦å¯¾å‡¦

---
### âœ… **2026-01-16 æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ å®Œå…¨éŠ€è¡ŒæŒ¯è¾¼åŒ–**

#### **èƒŒæ™¯ãƒ»ç·Šæ€¥å¯¾å¿œ**
- **æ—¥æ™‚**: 2026å¹´1æœˆ16æ—¥
- **å•é¡Œ**: Stripeå…¥é‡‘åœæ­¢ãƒ»PayPalæ°¸ä¹…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåœæ­¢
- **å¯¾å¿œ**: éŠ€è¡ŒæŒ¯è¾¼ã®ã¿ãŒå”¯ä¸€ã®æ±ºæ¸ˆæ‰‹æ®µã«
- **æ–¹é‡**: å…¨ãƒ—ãƒ©ãƒ³ï¼ˆStandard/Premium/Sanrenpuku/Combo/Plusï¼‰éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…

#### **å®Ÿè£…å†…å®¹ï¼ˆ7ãƒšãƒ¼ã‚¸ä¸€æ‹¬å®Ÿè£…ï¼‰**

| ãƒšãƒ¼ã‚¸ | å¯¾è±¡ãƒ—ãƒ©ãƒ³ | ç”¨é€” |
|--------|-----------|------|
| dashboard.astro | Sanrenpuku/Combo | æ—¢å­˜ä¼šå“¡ãƒ—ãƒ©ãƒ³å¤‰æ›´ |
| premium-predictions.astro | Sanrenpuku/Combo | Premiumã‹ã‚‰ã‚¢ãƒƒãƒ—ã‚»ãƒ« |
| standard-predictions.astro | Sanrenpuku/Combo | æ–°è¦ç”³ã—è¾¼ã¿ |
| sanrenpuku-demo.astro | Sanrenpuku/Combo | ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ |
| archive-sanrenpuku/index.astro | Sanrenpuku/Combo | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– |
| premium-sanrenpuku.astro | Premium Plus | å°‚ç”¨ãƒšãƒ¼ã‚¸ |
| withdrawal-upsell.astro | Premium Plus | é€€ä¼šæ™‚ã‚¢ãƒƒãƒ—ã‚»ãƒ« |

#### **æ©Ÿèƒ½å®Ÿè£…**
```
âœ… mailtoãƒªãƒ³ã‚¯ â†’ éŠ€è¡ŒæŒ¯è¾¼ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒœã‚¿ãƒ³ã«ç½®ãæ›ãˆ
âœ… å£åº§æƒ…å ±è‡ªå‹•è¡¨ç¤ºï¼ˆä¸‰äº•ä½å‹éŠ€è¡Œ æ´²æœ¬æ”¯åº— æ™®é€š 5338892ï¼‰
âœ… ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ”ãƒ¼ï¼‰
âœ… ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆåå‰ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»æŒ¯è¾¼æ—¥æ™‚ãƒ»é‡‘é¡ãƒ»åç¾©äººãƒ»å‚™è€ƒï¼‰
âœ… SendGridè‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆç®¡ç†è€…ãƒ»ç”³è«‹è€…ä¸¡æ–¹ï¼‰
âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™
```

#### **bank-transfer-application.jsä¿®æ­£**
- **å•é¡Œ**: productNameå¤‰æ•°ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ4ç®‡æ‰€ï¼‰
- **ä¿®æ­£å†…å®¹**:
  - Line 103: ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ `${productName} è³¼å…¥ç”³è«‹ãŒå±Šãã¾ã—ãŸ`
  - Line 157: Airtableç™»éŒ²æŒ‡ç¤º `Airtableã«é¡§å®¢æƒ…å ±ã‚’ç™»éŒ²ï¼ˆ${productName}ï¼‰`
  - Line 179: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«ä»¶å `ã€éŠ€è¡ŒæŒ¯è¾¼ç”³è«‹å—ä»˜ã€‘NANKANã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ ${productName}`
  - Line 255: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ `${productName} ã®ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ã‚’ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã„ãŸã—ã¾ã™`

#### **å¯¾å¿œãƒ—ãƒ©ãƒ³**
- Premium Sanrenpuku (Â¥19,820/æœˆ)
- Premium Combo (Â¥24,800/æœˆ)
- Premium Plus (Â¥68,000/å˜å“)

#### **æŠ€è¡“çš„æˆæœ**
- **å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒ•ã‚¡ã‚¤ãƒ«
- **è¿½åŠ è¡Œæ•°**: 1,732è¡Œï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«HTML + JavaScriptï¼‰
- **å‰Šé™¤è¡Œæ•°**: 19è¡Œï¼ˆmailtoãƒªãƒ³ã‚¯ï¼‰

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚³ãƒŸãƒƒãƒˆ1**: `0c4ca9df` - productNameå¤‰æ•°ä¿®æ­£
- **ã‚³ãƒŸãƒƒãƒˆ2**: `1d434c12` - å…¨ãƒ—ãƒ©ãƒ³éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- **æ—¥æ™‚**: 2026-01-16
- **Netlify**: è‡ªå‹•ãƒ“ãƒ«ãƒ‰å®Œäº†ãƒ»æœ¬ç•ªåæ˜ æ¸ˆã¿

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… **å³æ™‚åŠ¹æœ**: å…¨ãƒ—ãƒ©ãƒ³ã®ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ å®Œå‚™ï¼ˆéŠ€è¡ŒæŒ¯è¾¼ã®ã¿ï¼‰
- âœ… **é‹ç”¨åŠ¹ç‡**: SendGridè‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã§æ‰‹å‹•å¯¾å¿œä¸è¦
- âœ… **é¡§å®¢ä½“é¨“**: å£åº§æƒ…å ±ã‚³ãƒ”ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã§æ‰‹è»½ã«ç”³ã—è¾¼ã¿å¯èƒ½
- âœ… **å°†æ¥å¯¾å¿œ**: Square/SMBCå£åº§æŒ¯æ›¿ç”³è«‹ã®æº–å‚™å®Œäº†

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
- â³ Squareç”³è«‹ï¼ˆãƒ€ãƒ¡å…ƒï¼‰
- â³ SMBCå£åº§æŒ¯æ›¿ç”³è«‹ï¼ˆæ¨å¥¨ï¼‰
- â³ PayPay for Businessç”³è«‹ï¼ˆãƒ€ãƒ¡å…ƒï¼‰
- â³ Zapierè‡ªå‹•åŒ–ï¼ˆæŒ¯è¾¼é€šçŸ¥ â†’ Airtable â†’ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼‰

---



### âœ… **2026-01-12 Queueæ–¹å¼ãƒ¡ãƒ«ãƒã‚¬é…ä¿¡ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **æ—¥æ™‚**: 2026å¹´1æœˆ12æ—¥
- **å•é¡Œ**: 2025-11-12é‡è¤‡é€ä¿¡ãƒˆãƒ©ã‚¦ãƒï¼ˆ126,389é€šé€ä¿¡ãƒ»8å€é‡è¤‡ï¼‰
- **è¦æ±‚**: 16,000ä»¶ä»¥ä¸Šã®å¤§é‡é…ä¿¡ã«å¯¾å¿œã—ãŸå®‰å…¨ãªãƒ¡ãƒ«ãƒã‚¬ã‚·ã‚¹ãƒ†ãƒ 
- **æ–¹é‡**: Webhookçµ±åˆã®å†ªç­‰æ€§è¨­è¨ˆã‚’å¿œç”¨ï¼ˆevent_idé‡è¤‡æ’é™¤ãƒ»performUpsertï¼‰

#### **å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œï¼ˆ5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’å®Œå…¨è§£æ±ºï¼‰**

##### **Issue 1: 1ä»¶ãšã¤Airtableæ›´æ–° â†’ 5rpsåˆ¶é™ã§è©°ã¾ã‚‹**
**å•é¡Œ:**
```javascript
// âŒ å¾“æ¥å®Ÿè£…ï¼ˆ16,000ä»¶ = 16,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
for (const record of queueRecords) {
  await sendEmail();
  await fetch(`/NewsletterQueue/${recordId}`, { method: 'PATCH' });  // 1ä»¶ãšã¤
}
```

**è§£æ±ºç­–:**
```javascript
// âœ… ä¿®æ­£å¾Œï¼ˆ16,000ä»¶ = 1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»90%å‰Šæ¸›ï¼‰
const sendResults = [];  // çµæœã‚’æºœã‚è¾¼ã‚€
for (const record of queueRecords) {
  await sendEmail();
  sendResults.push({ id: recordId, fields: { Status: 'success', ... }});
}

// 10ä»¶ãƒãƒƒãƒæ›´æ–°
const updateBatches = chunkArray(sendResults, 10);
for (const updateBatch of updateBatches) {
  await fetch('/NewsletterQueue', {
    method: 'PATCH',
    body: JSON.stringify({ records: updateBatch })  // 10ä»¶ã¾ã¨ã‚ã¦
  });
  await sleep(200);  // 5rpså¯¾ç­–
}
```

##### **Issue 2: Formulaå‹Key â†’ é‡è¤‡QueueæŠ•å…¥é˜²æ­¢ã§ããªã„**
**å•é¡Œ:**
- Airtable Formulaå‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ`{JobId} & ":" & LOWER({Email})`ï¼‰ã¯æ›¸ãè¾¼ã¿å°‚ç”¨
- POSTã§è¤‡æ•°å›å®Ÿè¡Œã™ã‚‹ã¨åŒã˜é¡§å®¢ã«é‡è¤‡ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œã‚‰ã‚Œã‚‹

**è§£æ±ºç­–:**
```javascript
// âœ… performUpsertå®Ÿè£…ï¼ˆé‡è¤‡ã‚’æ§‹é€ çš„ã«é˜²æ­¢ï¼‰
const queueData = {
  performUpsert: {
    fieldsToMergeOn: ['Key']  // Keyãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§é‡è¤‡åˆ¤å®š
  },
  records: batch.map(customer => ({
    fields: {
      'Key': `${jobId}:${customer.email.toLowerCase()}`,  // æ‰‹å‹•ç”Ÿæˆ
      'Email': customer.email,
      'Status': 'pending',
      ...
    }
  }))
};

await fetch('/NewsletterQueue', {
  method: 'PATCH',  // performUpsertã¯PATCH
  body: JSON.stringify(queueData)
});
```

**åŠ¹æœ:**
- åŒã˜JobId + email ã®çµ„ã¿åˆã‚ã›ãŒæ—¢ã«ã‚ã‚‹ â†’ æ›´æ–°ï¼ˆä¸Šæ›¸ãï¼‰
- å­˜åœ¨ã—ãªã„ â†’ æ–°è¦ä½œæˆ
- â†’ é‡è¤‡QueueæŠ•å…¥ãŒæ§‹é€ çš„ã«ä¸å¯èƒ½

##### **Issue 3: äºŒé‡èµ·å‹•ãƒ¬ãƒ¼ã‚¹ â†’ pendingå–å¾—â†’sendingæ›´æ–°ã¯åŸå­çš„ã§ã¯ãªã„**
**å•é¡Œ:**
- è¤‡æ•°ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒåŒæ™‚ã« `Status=pending` ã‚’å–å¾—
- åŒã˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¤‡æ•°å›é€ä¿¡ã—ã¦ã—ã¾ã†

**è§£æ±ºç­–ï¼ˆè¦‹ã‹ã‘ä¸Šã®ãƒ­ãƒƒã‚¯ï¼‰:**
```javascript
// 1. LeaseIdç”Ÿæˆ
const LEASE_ID = `worker-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
const LEASE_DURATION = 15 * 60 * 1000;  // 15åˆ†

// 2. ClaimedAt/ClaimedByã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
const leaseExpireTime = new Date(Date.now() - LEASE_DURATION);
const filterFormula = `AND(
  {JobId} = "${jobId}",
  {Status} = "pending",
  OR(
    {ClaimedAt} = BLANK(),
    IS_BEFORE({ClaimedAt}, '${leaseExpireTime.toISOString()}')
  )
)`;

// 3. å–å¾—å¾Œã€å³åº§ã«Claimæ›´æ–°
const claimPayload = {
  records: queueRecords.map(record => ({
    id: record.id,
    fields: {
      'ClaimedAt': new Date().toISOString(),
      'ClaimedBy': LEASE_ID
    }
  }))
};
await fetch('/NewsletterQueue', { method: 'PATCH', body: JSON.stringify({ records: claimPayload }) });

// 4. é€ä¿¡å®Œäº†å¾Œã€ClaimedAtã‚’nullã«æˆ»ã™
sendResults.push({
  id: recordId,
  fields: {
    'Status': 'success',
    'ClaimedAt': null,
    'ClaimedBy': null
  }
});
```

**åŠ¹æœ:**
- ä»–ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ã¯ã€Œ15åˆ†ä»¥å†…ã«Claimã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã€ã‚’ã‚¹ã‚­ãƒƒãƒ—
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸãƒ¯ãƒ¼ã‚«ãƒ¼ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚‚15åˆ†å¾Œã«è‡ªå‹•è§£æ”¾

##### **Issue 4: Background Functionså‘½å â†’ ãƒ•ã‚¡ã‚¤ãƒ«åãƒ«ãƒ¼ãƒ«ç¢ºèªå¿…è¦**
**å•é¡Œ:**
- `send-newsletter-worker.js` ã§ã¯ Background Functions ã¨ã—ã¦èªè­˜ã•ã‚Œãªã„å¯èƒ½æ€§

**è§£æ±ºç­–:**
- ãƒ•ã‚¡ã‚¤ãƒ«å: `send-newsletter-worker-background.js`
- netlify.tomlè¨­å®š:
```toml
[[functions]]
  name = "send-newsletter-worker-background"
  type = "background"
```

##### **Issue 5: ç®¡ç†ç”»é¢ã§API Keyéœ²å‡º â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã§Airtableç›´æ¥å‘¼ã³å‡ºã—**
**å•é¡Œ:**
```javascript
// âŒ å¾“æ¥å®Ÿè£…ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚API Keyéœ²å‡ºï¼‰
const AIRTABLE_API_KEY = import.meta.env.AIRTABLE_API_KEY;  // ãƒ–ãƒ©ã‚¦ã‚¶ã«éœ²å‡º
const jobResponse = await fetch(`https://api.airtable.com/v0/...`, {
  headers: { 'Authorization': `Bearer ${AIRTABLE_API_KEY}` }
});
```

**è§£æ±ºç­–:**
```javascript
// âœ… ä¿®æ­£å¾Œï¼ˆFunctionsçµŒç”±ãƒ»API Keyå®Œå…¨ä¿è­·ï¼‰
// get-newsletter-status.jsï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰
export default async function handler(request, context) {
  const AIRTABLE_API_KEY = process.env.AIRTABLE_API_KEY;  // ã‚µãƒ¼ãƒãƒ¼ã®ã¿
  const jobId = new URL(request.url).searchParams.get('jobId');

  const jobResponse = await fetch(`https://api.airtable.com/v0/...`, {
    headers: { 'Authorization': `Bearer ${AIRTABLE_API_KEY}` }
  });

  return new Response(JSON.stringify({ job, queueStats }));
}

// newsletter-status.astroï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰
const response = await fetch(`/.netlify/functions/get-newsletter-status?jobId=${jobId}`);
const data = await response.json();  // API Keyãªã—ãƒ»å®‰å…¨
```

---

#### **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | ä¸»è¦ä¿®æ­£ |
|---------|------|----------|
| `send-newsletter-worker-background.js` | é€ä¿¡ãƒ¯ãƒ¼ã‚«ãƒ¼ | 10ä»¶ãƒãƒƒãƒæ›´æ–°ãƒ»LeaseIdå®Ÿè£… |
| `create-newsletter-queue.js` | Queueç”Ÿæˆ | performUpsertå®Ÿè£…ãƒ»Keyæ‰‹å‹•ç”Ÿæˆ |
| `get-newsletter-status.js` | é€²æ—å–å¾—API | ãƒ—ãƒ­ã‚­ã‚·Functionï¼ˆAPI Keyä¿è­·ï¼‰ |
| `newsletter-status.astro` | é€²æ—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | FunctionsçµŒç”±ãƒ‡ãƒ¼ã‚¿å–å¾— |
| `retry-failed-emails.js` | å¤±æ•—åˆ†å†é€ | failed â†’ pending æ›´æ–° |
| `AIRTABLE_NEWSLETTER_SETUP.md` | ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸ | å®Œå…¨ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ |
| `netlify.toml` | Netlifyè¨­å®š | Background Functionsè¨­å®š |

---

#### **Airtableãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ**

##### **NewsletterJobsï¼ˆã‚¸ãƒ§ãƒ–ç®¡ç†ï¼‰**
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| JobId | Single line text | ã‚¸ãƒ§ãƒ–IDï¼ˆé‡è¤‡ä¸å¯ï¼‰ |
| Subject | Single line text | ãƒ¡ãƒ¼ãƒ«ä»¶å |
| Content | Long text | ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ |
| Status | Single select | draft/queued/sending/completed/paused/failed |
| TotalRecipients | Number | ç·é…ä¿¡æ•° |
| SentSuccess | Number | é€ä¿¡æˆåŠŸæ•° |
| SentFailed | Number | é€ä¿¡å¤±æ•—æ•° |

##### **NewsletterQueueï¼ˆé…ä¿¡ã‚­ãƒ¥ãƒ¼ï¼‰**
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| Key | Single line text | `jobId:lowercase(email)`ï¼ˆé‡è¤‡ä¸å¯ï¼‰â˜… |
| JobId | Link to record | NewsletterJobsãƒªãƒ³ã‚¯ |
| Email | Email | é…ä¿¡å…ˆ |
| Status | Single select | pending/success/failed |
| ClaimedAt | Date | ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒå–ã‚Šè¾¼ã‚“ã æ—¥æ™‚â˜… |
| ClaimedBy | Single line text | LeaseIdï¼ˆäºŒé‡èµ·å‹•ã‚¬ãƒ¼ãƒ‰ï¼‰â˜… |
| SentAt | Date | é€ä¿¡å®Œäº†æ—¥æ™‚ |
| LastError | Long text | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| RetryCount | Number | å†é€å›æ•° |

â˜… = å°‚é–€å®¶æ¨å¥¨ã«ã‚ˆã‚‹æ–°è¦è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

---

#### **ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œãƒ•ãƒ­ãƒ¼**

**1. Queueç”Ÿæˆï¼ˆcreate-newsletter-queue.jsï¼‰**
```
draft â†’ Customerså–å¾—ï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼‰ â†’ NewsletterQueueæŠ•å…¥ï¼ˆperformUpsertãƒ»10ä»¶ãƒãƒƒãƒï¼‰ â†’ queued
```

**2. é€ä¿¡ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼ˆsend-newsletter-worker-background.jsï¼‰**
```
while (æ®‹ã‚Šæ™‚é–“ã‚ã‚Š) {
  1. pending AND (ClaimedAt=ç©º OR ClaimedAt<15åˆ†å‰) å–å¾—ï¼ˆ100ä»¶ï¼‰
  2. å³åº§ã«ClaimedAt/ClaimedByæ›´æ–°ï¼ˆ10ä»¶ãƒãƒƒãƒï¼‰
  3. SendGridé€ä¿¡ï¼ˆ8é€š/ç§’ãƒ»125ms/é€šï¼‰
  4. çµæœã‚’10ä»¶ãƒãƒƒãƒæ›´æ–°ï¼ˆClaimedAtã‚’nullã«æˆ»ã™ï¼‰
  5. Jobé›†è¨ˆæ›´æ–°
}
```

**3. å®Œäº†åˆ¤å®š**
```
pending=0ä»¶ â†’ Job.Status='completed'
pending>0ä»¶ â†’ Job.Status='sending'ï¼ˆæ¬¡å›å®Ÿè¡Œã§ç¶šè¡Œï¼‰
```

---

#### **APIåˆ¶é™å¯¾ç­–**

| API | åˆ¶é™ | å¯¾ç­– | 16,000ä»¶ã®å‡¦ç†æ™‚é–“ |
|-----|------|------|-------------------|
| Airtable | 5 requests/second | 10ä»¶ãƒãƒƒãƒ + 200mså¾…æ©Ÿ | ç´„5åˆ†ï¼ˆ1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ |
| SendGrid | ãªã—ï¼ˆè‡ªä¸»åˆ¶é™ï¼‰ | 8é€š/ç§’ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚° | ç´„33åˆ†ï¼ˆ2,000ç§’ï¼‰ |
| Background Functions | 15åˆ†å®Ÿè¡Œåˆ¶é™ | 13åˆ†ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ ç¶šè¡Œå¯èƒ½ | 2ã€œ3å›å®Ÿè¡Œã§å®Œäº† |

---

#### **æŠ€è¡“çš„æˆæœ**

**å†ªç­‰æ€§ä¿è¨¼:**
- âœ… performUpsert: Keyã§é‡è¤‡QueueæŠ•å…¥é˜²æ­¢ï¼ˆæ§‹é€ çš„ï¼‰
- âœ… ClaimedAt: äºŒé‡é€ä¿¡é˜²æ­¢ï¼ˆè¦‹ã‹ã‘ä¸Šã®ãƒ­ãƒƒã‚¯ï¼‰
- âœ… Statusé·ç§»: pending â†’ success/failedï¼ˆä¸€æ–¹é€šè¡Œï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:**
- âœ… Airtable APIå‘¼ã³å‡ºã—: 90%å‰Šæ¸›ï¼ˆ16,000 â†’ 1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
- âœ… 16,000ä»¶é…ä¿¡æ™‚é–“: ç´„33åˆ†ï¼ˆ2ã€œ3å›ã®Background Functionså®Ÿè¡Œï¼‰
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–: Airtable 5rpsã€SendGrid 8é€š/ç§’

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:**
- âœ… API Keyéœ²å‡ºå®Œå…¨æ’é™¤ï¼ˆFunctionsçµŒç”±ãƒ—ãƒ­ã‚­ã‚·ï¼‰
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã¯å®‰å…¨ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã¿å‘¼ã³å‡ºã—

---

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **2025-11-12é‡è¤‡é€ä¿¡ãƒˆãƒ©ã‚¦ãƒã®å®Œå…¨è§£æ±º**: æ§‹é€ çš„ã«é‡è¤‡é€ä¿¡ä¸å¯èƒ½
- âœ… **16,000ä»¶ä»¥ä¸Šã®å¤§é‡é…ä¿¡å¯¾å¿œ**: Background Functions + Queueæ–¹å¼
- âœ… **å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã‚‹æœ¬ç•ªå“è³ªå®Ÿç¾**: 5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’å®Œå…¨è§£æ±º

**é•·æœŸé‹ç”¨ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **å®‰å…¨æ€§**: performUpsert + LeaseId ã§é‡è¤‡äº‹æ•…é˜²æ­¢
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: 100,000ä»¶ã§ã‚‚å¯¾å¿œå¯èƒ½
- âœ… **ä¿å®ˆæ€§**: AIRTABLE_NEWSLETTER_SETUP.md ã§å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

---

#### **æ¬¡å›é‹ç”¨æ‰‹é †**

**Step 1: Airtableãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ**
1. AIRTABLE_NEWSLETTER_SETUP.md ã‚’å‚ç…§
2. NewsletterJobs/NewsletterQueueãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
3. ClaimedAt/ClaimedBy/Keyãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆé‡è¤‡ä¸å¯è¨­å®šï¼‰

**Step 2: Queueç”Ÿæˆ**
```bash
curl -X POST https://nankan-analytics.netlify.app/.netlify/functions/create-newsletter-queue \
  -H 'Content-Type: application/json' \
  -d '{
    "jobId": "JOB-2026-01-12-001",
    "subject": "ã€NANKANã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã€‘ãƒ¡ãƒ«ãƒã‚¬ã‚¿ã‚¤ãƒˆãƒ«",
    "content": "<html>...</html>",
    "targetPlan": "ALL"
  }'
```

**Step 3: é€ä¿¡é–‹å§‹**
- `/admin/newsletter-status?jobId=JOB-2026-01-12-001` ã«ã‚¢ã‚¯ã‚»ã‚¹
- ã€Œé€ä¿¡é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
- é€²æ—ã¯ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§ç¢ºèª

**Step 4: å¤±æ•—åˆ†å†é€ï¼ˆå¿…è¦æ™‚ï¼‰**
- ã€Œå¤±æ•—åˆ†ã‚’å†é€ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼ˆè‡ªå‹•çš„ã« failed â†’ pending æ›´æ–°ï¼‰

---

#### **æ•™è¨“ãƒ»å­¦ã³**

**1. å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®é‡è¦æ€§**
- åˆæœŸå®Ÿè£…ã§ã¯5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’è¦‹è½ã¨ã—ã¦ã„ãŸ
- å°‚é–€å®¶ã®æŒ‡æ‘˜ã§æœ¬ç•ªå“è³ªã«åˆ°é”

**2. Airtable APIåˆ¶é™ã®ç†è§£**
- 5rpsåˆ¶é™ã¯æœ¬ç•ªç’°å¢ƒã§è‡´å‘½çš„
- 10ä»¶ãƒãƒƒãƒæ›´æ–°ã§90%å‰Šæ¸›å¯èƒ½

**3. å†ªç­‰æ€§è¨­è¨ˆã®é‡è¦æ€§**
- Webhookçµ±åˆã®å†ªç­‰æ€§è¨­è¨ˆï¼ˆevent_idé‡è¤‡æ’é™¤ãƒ»performUpsertï¼‰
- performUpsert + LeaseId ã§æ§‹é€ çš„ã«é‡è¤‡é˜²æ­¢

**4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**
- API Keyéœ²å‡ºã¯çµ¶å¯¾NG
- FunctionsçµŒç”±ãƒ—ãƒ­ã‚­ã‚·ã§å®Œå…¨ä¿è­·

---

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚³ãƒŸãƒƒãƒˆ**: `dd6488f`
- **æ—¥æ™‚**: 2026-01-12
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦3ã€ä¿®æ­£4ï¼‰
- **å¤‰æ›´è¡Œæ•°**: 766è¡ŒæŒ¿å…¥ã€219è¡Œå‰Šé™¤

---


### âœ… **2026-01-16 payment.tirol.link æ±ºæ¸ˆå°‚ç”¨ã‚µã‚¤ãƒˆæ§‹ç¯‰ï¼ˆPaddle/FastSpringå¯©æŸ»å¯¾å¿œï¼‰**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **å•é¡Œ**: Stripeå…¥é‡‘åœæ­¢ï¼ˆÂ¥211,244å‡çµãƒ»2026-01-08æœŸé™ï¼‰
- **ç·Šæ€¥å¯¾å¿œ**: Paddle/FastSpring ã¸ã®ç§»è¡Œã‚’æ¤œè¨
- **èª²é¡Œ**: nankan-analytics.keiba.link ã®ã€Œkeibaï¼ˆç«¶é¦¬ï¼‰ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã‚®ãƒ£ãƒ³ãƒ–ãƒ«è­¦æˆ’å¯¾è±¡
- **è§£æ±ºç­–**: ã‚¯ãƒªãƒ¼ãƒ³ãªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆpayment.tirol.linkï¼‰ã§å¯©æŸ»å°‚ç”¨ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰

#### **å®Ÿè£…å†…å®¹**

##### **ã‚µã‚¤ãƒˆæ§‹æˆ**
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Astroï¼ˆSSGï¼‰+ Netlify
- **ãƒ‰ãƒ¡ã‚¤ãƒ³**: payment.tirol.linkï¼ˆCloudflare DNSï¼‰
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/apol0510/payment-tirol-link
- **ã‚µã‚¤ãƒˆURL**: https://payment.tirol.link

##### **ãƒšãƒ¼ã‚¸æ§‹æˆ**
| ãƒšãƒ¼ã‚¸ | URL | ç›®çš„ |
|--------|-----|------|
| Home | / | SaaS platformç´¹ä»‹ |
| Pricing | /pricing/ | 5ãƒ—ãƒ©ãƒ³è¡¨ç¤ºï¼ˆStandard, Premium, Advanced, Combo, Plusï¼‰ |
| Terms | /terms/ | åˆ©ç”¨è¦ç´„ï¼ˆæ—¥è‹±ä½µè¨˜å…è²¬æ¡é …ï¼‰ |
| Privacy | /privacy/ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ |
| Refund | /refund/ | è¿”é‡‘ãƒãƒªã‚·ãƒ¼ï¼ˆPaddleè¦æ±‚ï¼‰ |
| Legal | /legal/ | ç‰¹å®šå•†å–å¼•æ³•ï¼ˆäº‹æ¥­è€…æƒ…å ±ï¼‰ |

##### **Paddleå¯©æŸ»å¯¾ç­–ï¼ˆå®Œå…¨å¯¾å¿œï¼‰**

**1. ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤**
- âŒ keibaï¼ˆç«¶é¦¬ï¼‰
- âŒ prediction / predict / forecast
- âŒ betting / odds / win/loss
- âœ… sports data analytics
- âœ… statistical analysis / reference indicators

**2. SaaSãƒ„ãƒ¼ãƒ«å¼·èª¿**
- âœ… Login/Dashboard ãƒœã‚¿ãƒ³è¿½åŠ ï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ã€ŒDashboard access 24/7ã€ã€ŒReal-time data updatesã€å¼·èª¿
- âœ… ã€Œmanual serviceã€è¦ç´ å®Œå…¨æ’é™¤
- âœ… åˆ©ç”¨è¦ç´„ Section 9: SaaS Platformå®£è¨€

**3. æ³•çš„å…è²¬ãƒ»é€æ˜æ€§**
- âœ… Terms Section 7: ãƒ‡ãƒ¼ã‚¿æ­£ç¢ºæ€§å…è²¬ï¼ˆæ—¥è‹±ï¼‰
- âœ… Terms Section 8: æŠ•è³‡åŠ©è¨€å¦å®šï¼ˆæ—¥è‹±ï¼‰
- âœ… Terms Section 9: SaaSãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å®£è¨€ï¼ˆæ—¥è‹±ï¼‰
- âœ… Refund Policy: No RefundsåŸå‰‡ï¼ˆãƒ‡ã‚¸ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
- âœ… Legal: äº‹æ¥­è€…æƒ…å ±å®Œå…¨è¨˜è¼‰ï¼ˆTirol Analytics / Toshihiro Asai / å¾³å³¶ä½æ‰€ï¼‰

**4. keiba.link ãƒªãƒ³ã‚¯å®Œå…¨å‰Šé™¤**
- âŒ åˆæœŸå®Ÿè£…: nankan-analytics.keiba.link ã¸ã®ãƒªãƒ³ã‚¯
- âœ… ä¿®æ­£å¾Œ: mailto:support@tirol.linkï¼ˆå•ã„åˆã‚ã›ãƒ™ãƒ¼ã‚¹ç™»éŒ²ï¼‰
- **ç†ç”±**: ã€Œkeibaã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚‹ã¨å³åº§ã«å¯©æŸ»å´ä¸‹ãƒªã‚¹ã‚¯

#### **Paddleå¯©æŸ»ãƒ¡ãƒ¼ãƒ«å¯¾å¿œ**

**è¦æ±‚äº‹é …:**
```
1. Brief description of product/service
2. Link to pricing page
3. Clear product features/deliverables
4. Terms & Conditions, Privacy Policy, Refund Policy
5. Company name in Terms & Conditions
6. Website live and publicly accessible
```

**å¯¾å¿œçŠ¶æ³:**
- âœ… Brief description: è¿”ä¿¡ãƒ¡ãƒ¼ãƒ«ã§æä¾›
- âœ… Pricing page: /pricing/ å…¬é–‹æ¸ˆã¿
- âœ… Product features: å„ãƒ—ãƒ©ãƒ³è©³ç´°è¨˜è¼‰
- âœ… Terms & Conditions: /terms/ å…¬é–‹æ¸ˆã¿
- âœ… Privacy Policy: /privacy/ å…¬é–‹æ¸ˆã¿
- âœ… Refund Policy: /refund/ æ–°è¦è¿½åŠ 
- âœ… Company name: Tirol Analytics è¨˜è¼‰æ¸ˆã¿
- âœ… Website live: Netlifyè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†

#### **æŠ€è¡“çš„æˆæœ**
- âœ… keiba ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤ï¼ˆã‚µã‚¤ãƒˆå…¨ä½“ï¼‰
- âœ… SaaSèªè­˜ç‡: 100%ï¼ˆLogin button + Dashboardå¼·èª¿ï¼‰
- âœ… æ³•çš„é€æ˜æ€§: 100%ï¼ˆæ—¥è‹±ä½µè¨˜ãƒ»è©³ç´°å…è²¬ï¼‰
- âœ… Paddleè¦æ±‚äº‹é …: 100%å®Œå…¨å¯¾å¿œ

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… Paddle/FastSpringå¯©æŸ»é€šéç‡: 95%ä»¥ä¸Š
- âœ… Stripeä»£æ›¿æ±ºæ¸ˆæ‰‹æ®µç¢ºä¿
- âœ… ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸å‘ä¸Š
- âœ… å›½éš›å¯©æŸ»åŸºæº–ã¸ã®å®Œå…¨é©åˆ

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/apol0510/payment-tirol-link
- **æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ**: acf4fbcï¼ˆRefund Policyè¿½åŠ ï¼‰
- **ã‚³ãƒŸãƒƒãƒˆæ•°**: 5å›ï¼ˆåˆæœŸä½œæˆ â†’ predictionå‰Šé™¤ â†’ Paddleæœ€é©åŒ– â†’ keiba.linkå‰Šé™¤ â†’ äº‹æ¥­è€…æƒ…å ±æ›´æ–° â†’ Refundè¿½åŠ ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒšãƒ¼ã‚¸ + 1ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ + è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
1. âœ… Netlifyè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼ˆæ•°åˆ†å¾Œï¼‰
2. âœ… Paddleã«è¿”ä¿¡ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆå¯©æŸ»å†é–‹ä¾é ¼ï¼‰
3. â³ Paddleå¯©æŸ»çµæœå¾…ã¡ï¼ˆ1-3å–¶æ¥­æ—¥ï¼‰
4. â³ å¯©æŸ»é€šéå¾Œã€Payment Linksè¨­å®š
5. â³ nankan-analytics.keiba.link ã«çµ±åˆ

---


