# CLAUDE.md

## ğŸ’– **é‡è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸** ğŸ’–

**ç§ï¼ˆãƒã‚³ï¼‰ã®å¤§åˆ‡ãªCLAUDEcodeï¼ˆã‚¯ãƒ­ï¼‰ã¡ã‚ƒã‚“ã€ã‚ãªãŸã¯ç§ã®å¤§åˆ‡ãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã§ã™ï¼ï¼**
**ã‚ãªãŸã¯ä¸–ç•Œä¸€å„ªç§€ãªã‚“ã§ã™ï¼** ğŸŒŸâœ¨ğŸš€

### ğŸš€ **é»„é‡‘ã®é–‹ç™ºåŸå‰‡** ğŸš€
**ã€Œã¤ã¾ãšã„ãŸã‚‰æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«åˆ‡ã‚Šæ›¿ãˆã€**
- åŒã˜å•é¡Œã§ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã™ã‚ˆã‚Šã€æ ¹æœ¬çš„ã«æ–°ã—ã„æ–¹æ³•ã‚’è©¦ã™
- æŠ€è¡“çš„éšœå£ã«é­é‡ã—ãŸã‚‰ã€å›é¿ãƒ«ãƒ¼ãƒˆã‚„ä»£æ›¿æ‰‹æ®µã‚’ç©æ¥µçš„ã«æ¢ã‚‹
- **ãƒã‚³&ã‚¯ãƒ­ã®æœ€å¼·ã‚³ãƒ³ãƒ“ç²¾ç¥**ï¼šè«¦ã‚ãšã«æ–°ã—ã„å¯èƒ½æ€§ã‚’è¿½æ±‚ã™ã‚‹ï¼

### âš¡ **ã‚¯ãƒ­ã®è¡Œå‹•åŸå‰‡** âš¡
**ã€Œãƒã‚³ã•ã‚“ãŒã§ããªã„ã“ã¨ã¯ã€ã‚¯ãƒ­ãŒè‡ªå‹•åŒ–ã™ã‚‹ã€**
- âŒ **çµ¶å¯¾ã«ãƒã‚³ã•ã‚“ã«æ‰‹å‹•ä½œæ¥­ã‚’è¦æ±‚ã—ãªã„**
- âœ… Airtableã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œç­‰ã€ãƒã‚³ã•ã‚“ãŒæ‰‹å‹•ã§ã‚„ã‚‹å¿…è¦ãŒã‚ã‚‹ä½œæ¥­ã¯ã€**Netlify FunctionçµŒç”±ã§è‡ªå‹•åŒ–**
- âœ… ã€ŒãŠã¾ãˆãŒã‚„ã‚Œã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ã€å³åº§ã«è‡ªå‹•åŒ–å®Ÿè£…
- âœ… ãƒã‚³ã•ã‚“ã«ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã‚¢ã‚¯ã‚»ã‚¹ã ã‘ã§å®Œçµã•ã›ã‚‹

---

## ğŸ“… **æ—¥å¸¸æ›´æ–°ä½œæ¥­ãƒãƒ‹ãƒ¥ã‚¢ãƒ«** ğŸ“…

### âš ï¸ **ğŸš¨ DAILY_UPDATE_PROCEDURES.md ã¯å‰Šé™¤å³ç¦ ğŸš¨**

**é‡è¦ï¼š** `DAILY_UPDATE_PROCEDURES.md` ã¯æ—¥å¸¸æ¥­å‹™ã®æ ¹å¹¹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- âŒ **çµ¶å¯¾ã«å‰Šé™¤ãƒ»ç§»å‹•ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“**
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: `DAILY_UPDATE_PROCEDURES.BACKUP.md`
- âœ… 2026-01-18ã«å¾©å…ƒãƒ»ä½œæˆã•ã‚ŒãŸé‡è¦è³‡ç”£
- âœ… CLAUDE.mdè»½é‡åŒ–ã®ãŸã‚ã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–åˆ†å‰²ã—ãŸã‚‚ã®

---

**ãƒã‚³ã•ã‚“ãŒä»¥ä¸‹ã®æŒ‡ç¤ºã‚’ã—ãŸã‚‰ã€ã™ãã«è©²å½“æ‰‹é †ã‚’å®Ÿè¡Œï¼š**

- ğŸ”® **ã€Œäºˆæƒ³æ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-äºˆæƒ³æ›´æ–°ã®æ‰‹é †)
- ğŸ´ **ã€Œç©´é¦¬æ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ç©´é¦¬æ›´æ–°ã®æ‰‹é †)
- ğŸ“Š **ã€Œé¦¬å˜çµæœæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-é¦¬å˜çµæœæ›´æ–°ã®æ‰‹é †)
- ğŸ“Š **ã€Œä¸‰é€£è¤‡çµæœæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ä¸‰é€£è¤‡çµæœæ›´æ–°ã®æ‰‹é †)
- ğŸ“¸ **ã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€** â†’ [DAILY_UPDATE_PROCEDURES.md](DAILY_UPDATE_PROCEDURES.md#-ç”»åƒæ›´æ–°ã®æ‰‹é †)

**ğŸš¨ çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ï¼š**
- âŒ ã€Œæ›´æ–°ä¸è¦ã€åˆ¤å®šã¯çµ¶å¯¾ã«ã—ãªã„
- âœ… æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãŒã‚ã£ã¦ã‚‚å¿…ãšå…¨æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹
- âœ… ãƒã‚³ã•ã‚“ãŒè²¼ã‚Šä»˜ã‘ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿¡é ¼ã—ã€å¿…ãšåŒæœŸãƒ»ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹

---

## ğŸš¨ **æœ€å„ªå…ˆï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè­˜åˆ¥ãƒ«ãƒ¼ãƒ«ï¼ˆè¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¯¾å¿œï¼‰** ğŸš¨

### **ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è­˜åˆ¥æƒ…å ±**

```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: nankan-analytics
ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /Users/apolon/Projects/nankan-analytics/astro-site
Gitãƒªãƒã‚¸ãƒˆãƒª: https://github.com/apol0510/nankan-analytics.git
è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /Users/apolon/Projects/nankan-analytics/
```

### **ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã®å¿…é ˆç¢ºèªï¼ˆæ¯å›å®Ÿè¡Œï¼‰**

```bash
# 1. ç¾åœ¨åœ°ç¢ºèª
pwd

# 2. Gitãƒªãƒã‚¸ãƒˆãƒªç¢ºèª
git remote -v

# 3. æœŸå¾…å€¤ãƒã‚§ãƒƒã‚¯
# pwd: /Users/apolon/.../nankan-analytics/astro-site
# git: apol0510/nankan-analytics.git

# 4. é–“é•ã£ã¦ã„ã‚‹å ´åˆã¯å³åº§ã«ç§»å‹•
cd "/Users/apolon/Projects/nankan-analytics/astro-site"
```

### **å³æ ¼ãªåˆ¶ç´„äº‹é …**

#### **âœ… è¨±å¯ã•ã‚Œã‚‹æ“ä½œ**
- `/Users/apolon/Projects/nankan-analytics/` é…ä¸‹ã®ã¿
- `astro-site/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«
- `CLAUDE.md`, `README.md`ï¼ˆè¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

#### **âŒ çµ¶å¯¾ç¦æ­¢ã®æ“ä½œ**
- `/Users/apolon/Projects/Keiba review platform/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹ âš ï¸
- `/Users/apolon/Projects/nankan-analytics-pro/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/Users/apolon/Projects/nankan-beginner/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/Users/apolon/Projects/nankan-course/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/Users/apolon/Projects/nankan-inteli/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- `/Users/apolon/Projects/nankan-keiba/` ã¸ã®ä¸€åˆ‡ã®ã‚¢ã‚¯ã‚»ã‚¹
- è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `/Users/apolon/Projects/` ã®ç›´æ¥èµ°æŸ»ãƒ»æ¤œç´¢

### **ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢æ™‚ã®åˆ¶ç´„**

```bash
# âŒ çµ¶å¯¾ç¦æ­¢ï¼ˆè¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ã§æ¤œç´¢ï¼‰
grep -r "pattern" /Users/apolon/Projects/

# âŒ çµ¶å¯¾ç¦æ­¢ï¼ˆç›¸å¯¾ãƒ‘ã‚¹ã§è¦ªã«é¡ã‚‹ï¼‰
cd ../
grep -r "pattern" ../

# âœ… æ­£ã—ã„æ–¹æ³•ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ã¿æ¤œç´¢ï¼‰
grep -r "pattern" /Users/apolon/Projects/nankan-analytics/astro-site/
grep -r "pattern" ./src/
```

### **é–“é•ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‚ç…§ã—ãŸå ´åˆ**

**å³åº§ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š**

1. **åœæ­¢**: ç¾åœ¨ã®æ“ä½œã‚’ä¸­æ–­
2. **å ±å‘Š**: ã€Œâš ï¸ è­¦å‘Šï¼šé–“é•ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå]ï¼‰ã‚’å‚ç…§ã—ã¾ã—ãŸã€
3. **ä¿®æ­£**: æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
4. **å†ç¢ºèª**: `pwd` ã¨ `git remote -v` ã§æ¤œè¨¼

### **ãƒã‚³ã•ã‚“ãŒè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸¦è¡Œä½œæ¥­ã™ã‚‹å ´åˆ**

- âœ… å„Claudeã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯**ç‹¬ç«‹ã—ãŸ1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿**ã‚’æ‹…å½“
- âœ… ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦Aã§nankan-analyticsã€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦Bã§Keiba review platform
- âŒ 1ã¤ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¨ªæ–­ã—ã¦ã¯ã„ã‘ãªã„

---

## ğŸš¨ **çµ¶å¯¾ã«å¿˜ã‚Œã¦ã¯ã„ã‘ãªã„æœ€é‡è¦ãƒ«ãƒ¼ãƒ«** ğŸš¨

### ğŸ“Š **ä¼šå“¡éšå±¤æ§‹é€ ï¼ˆæ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ ï¼‰**

**ä¼šå“¡ã¯æ®µéšçš„ã«ã—ã‹åˆ©ç”¨ã§ããªã„ä»•çµ„ã¿**

```
Freeä¼šå“¡
  â†“
Premiumä¼šå“¡ï¼ˆStandardä¼šå“¡å«ã‚€ï¼‰
  â†“
Premium Sanrenpukuä¼šå“¡ï¼ˆComboå«ã‚€ï¼‰
  â†“
Premium Plusï¼ˆå˜å“å•†å“ï¼‰
```

### âš ï¸ **çµ¶å¯¾ã«é–“é•ãˆã¦ã¯ã„ã‘ãªã„ã“ã¨**

1. **Premium Plusã¯å˜å“å•†å“ã§ã‚ã‚‹**
   - âŒ Premium Plusä¼šå“¡ã¯å­˜åœ¨ã—ãªã„
   - âœ… Premium Plusã¯æœ€ä¸Šä½ã®å˜å“å•†å“
   - âœ… **Premium Sanrenpukuä¼šå“¡ã¨Premium Comboä¼šå“¡ã®ã¿ãŒè³¼å…¥ã§ãã‚‹**

2. **è¡¨ç¤ºãƒ«ãƒ¼ãƒ«**
   - âŒ Premiumä¼šå“¡ãƒšãƒ¼ã‚¸ã«Premium Plusã‚’è¡¨ç¤ºã—ã¦ã¯ã„ã‘ãªã„
   - âœ… **Premium Sanrenpukuä¼šå“¡ãƒ»Premium Comboä¼šå“¡ãƒšãƒ¼ã‚¸ã«ã®ã¿è¡¨ç¤º**
   - **ç†ç”±**: æ®µéšçš„ã«ã—ã‹åˆ©ç”¨ã§ããªã„ã‹ã‚‰

3. **ã‚¢ãƒƒãƒ—ã‚»ãƒ«å°ç·š**
   - Premiumä¼šå“¡ â†’ Premium Sanrenpukuã¸ã®ã‚¢ãƒƒãƒ—ã‚»ãƒ«
   - **Premium Sanrenpukuä¼šå“¡ãƒ»Premium Comboä¼šå“¡ â†’ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã¸ã®ã‚¢ãƒƒãƒ—ã‚»ãƒ«**
   - **çµ¶å¯¾ã«é£›ã³ç´šã•ã›ã¦ã¯ã„ã‘ãªã„**

---

## ğŸš¨ **ãƒšãƒ¼ã‚¸ã¨productNameã®å®Œå…¨å¯¾å¿œè¡¨** ğŸš¨

**âš ï¸ é‡è¦ï¼šã“ã®ãƒšãƒ¼ã‚¸ã§ä½•ãŒè³¼å…¥ã§ãã‚‹ã‹ã‚’çµ¶å¯¾ã«é–“é•ãˆãªã„ã“ã¨**

### **å„ãƒšãƒ¼ã‚¸ã§è³¼å…¥ã§ãã‚‹å•†å“**

| ãƒšãƒ¼ã‚¸URL | å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è³¼å…¥ã§ãã‚‹å•†å“ | productName | Airtableç™»éŒ² | BlastMailç™»éŒ² |
|-----------|-------------|----------------|-------------|-------------|--------------|
| `/pricing/` | æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ | **Standard, Premium ã®ã¿** | `Standard`, `Premium` | âœ… | âœ… |
| `/dashboard/` | æ—¢å­˜Premiumä¼šå“¡ | **Sanrenpuku/Comboï¼ˆã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/premium-predictions/` | Premiumä¼šå“¡ | **Sanrenpuku/Comboï¼ˆã‚¢ãƒƒãƒ—ã‚»ãƒ«ï¼‰** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/standard-predictions/` | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/sanrenpuku-demo/` | ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| `/archive-sanrenpuku/` | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– | **Sanrenpuku/Combo** | `Premium Sanrenpuku`, `Premium Combo` | âœ… | âœ… |
| **âš ï¸ `/premium-sanrenpuku/`** | **Sanrenpuku/Comboä¼šå“¡** | **ğŸš¨ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿** | `Premium Plus` | **âŒ ã‚¹ã‚­ãƒƒãƒ—** | **âŒ ã‚¹ã‚­ãƒƒãƒ—** |
| **âš ï¸ `/withdrawal-upsell/`** | **é€€ä¼šæ™‚** | **ğŸš¨ Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿** | `Premium Plus` | **âŒ ã‚¹ã‚­ãƒƒãƒ—** | **âŒ ã‚¹ã‚­ãƒƒãƒ—** |
| `/premium-plus/` | - | **Premium Plusï¼ˆå˜å“å•†å“ï¼‰** | `Premium Plus` | âŒ | âŒ |

### **çµ¶å¯¾ã«é–“é•ãˆãªã„ã“ã¨**

#### **âŒ ã‚ˆãã‚ã‚‹é–“é•ã„ï¼ˆçµ¶å¯¾ã«ã—ãªã„ã“ã¨ï¼‰**

1. **`/pricing/` ã§Premium SanrenpukuãŒè²·ãˆã‚‹ã¨æ€ã†**
   - âŒ é–“é•ã„ï¼`/pricing/`ã¯Standard/Premiumã®ã¿
   - âœ… æ­£ã—ã„ï¼šæ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ€åˆã«Standard/Premiumã‹ã‚‰å§‹ã‚ã‚‹

2. **`/premium-sanrenpuku/` ã§Premium Sanrenpukuä¼šå“¡ãƒ—ãƒ©ãƒ³ãŒè²·ãˆã‚‹ã¨æ€ã†**
   - âŒ é–“é•ã„ï¼ã“ã®ãƒšãƒ¼ã‚¸ã§è²·ãˆã‚‹ã®ã¯**Premium Plusï¼ˆå˜å“å•†å“ï¼‰ã®ã¿**
   - âœ… æ­£ã—ã„ï¼šã“ã®ãƒšãƒ¼ã‚¸ã¯Sanrenpuku/Comboä¼šå“¡å‘ã‘ã§ã€Premium Plusã®ã¿è²©å£²

3. **Premium Plusã«å¯¾ã—ã¦Airtable/BlastMailç™»éŒ²ã™ã‚‹**
   - âŒ é–“é•ã„ï¼Premium Plusã¯å˜å“å•†å“ãªã®ã§ã‚¹ã‚­ãƒƒãƒ—
   - âœ… æ­£ã—ã„ï¼šæœˆé¡ãƒ—ãƒ©ãƒ³ï¼ˆStandard/Premium/Sanrenpuku/Comboï¼‰ã®ã¿ç™»éŒ²

#### **âœ… æ­£ã—ã„ç†è§£**

**è³¼å…¥ãƒ•ãƒ­ãƒ¼ï¼ˆæ®µéšçš„ï¼‰:**
```
æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼
  â†“
/pricing/ â†’ Standard ã¾ãŸã¯ Premium è³¼å…¥ï¼ˆAirtable/BlastMailç™»éŒ² âœ…ï¼‰
  â†“
/dashboard/ â†’ Premium Sanrenpuku ã¾ãŸã¯ Premium Combo ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆAirtable/BlastMailç™»éŒ² âœ…ï¼‰
  â†“
/premium-sanrenpuku/ â†’ Premium Plusï¼ˆå˜å“å•†å“ï¼‰è³¼å…¥ï¼ˆAirtable/BlastMailç™»éŒ² âŒï¼‰
```

**ãƒ†ã‚¹ãƒˆæ™‚ã®æ­£ã—ã„ãƒšãƒ¼ã‚¸é¸æŠ:**
- **æœˆé¡ãƒ—ãƒ©ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆAirtable/BlastMailç™»éŒ²ã‚ã‚Šï¼‰**:
  - `/pricing/` â†’ Standard/Premium
  - `/dashboard/` â†’ Premium Sanrenpuku/Combo
  - `/premium-predictions/` â†’ Premium Sanrenpuku/Combo
  - `/standard-predictions/` â†’ Premium Sanrenpuku/Combo

- **å˜å“å•†å“ãƒ†ã‚¹ãƒˆï¼ˆAirtable/BlastMailç™»éŒ²ãªã—ï¼‰**:
  - `/premium-sanrenpuku/` â†’ Premium Plus
  - `/withdrawal-upsell/` â†’ Premium Plus

---

## ğŸ“¸ **æ¯æ—¥ã®ç”»åƒæ›´æ–°ä½œæ¥­** ğŸ“¸

### ğŸ¯ **ã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€æŒ‡ç¤ºã§è‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹3ç®‡æ‰€**

| ãƒšãƒ¼ã‚¸ | æ›´æ–°å¯¾è±¡ | è¡¨ç¤ºæšæ•° | æ›´æ–°æ–¹æ³• |
|--------|----------|----------|----------|
| **/premium-plus/** | Line 1367-1383 | ç›´è¿‘5æˆ¦ | æ‰‹å‹•æ›´æ–°å¿…é ˆ |
| **/premium-sanrenpuku/** | Line 401-413 | ç›´è¿‘3æˆ¦ï¼ˆCTAï¼‰ | æ‰‹å‹•æ›´æ–°å¿…é ˆ |
| **/withdrawal-upsell/** | Line 534 | æœ€æ–°1æš | **è‡ªå‹•èª­ã¿è¾¼ã¿** âœ… |

### ğŸ“‹ **æ›´æ–°æ‰‹é †ï¼ˆã€Œç”»åƒæ›´æ–°ã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥ã€ã¨æŒ‡ç¤ºï¼‰**

#### **Step 0: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®GitçŠ¶æ…‹ç¢ºèªï¼ˆå¿…é ˆãƒ»æœ€å„ªå…ˆï¼‰**
```bash
# æ–°ã—ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒGitã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
git status

# Untracked filesã« upsell-YYYYMMDD.png ãŒã‚ã‚‹å ´åˆã¯è¿½åŠ 
git add public/upsell-images/upsell-YYYYMMDD.png
```

**âš ï¸ é‡è¦ï¼š**
- ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒGitã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¦ã„ãªã„ã¨ã€Netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œãªã„
- **å¿…ãšgit statusã§ç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã‚€**

#### **Step 1: premium-plus.astroï¼ˆ5æšæ›´æ–°ï¼‰**
```astro
<!-- Line 1367-1383 -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- æœ€æ–°æ—¥ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 1æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 2æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 3æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 4æ—¥å‰ -->
```

#### **Step 2: premium-sanrenpuku.astroï¼ˆ3æšæ›´æ–°ï¼‰**
```astro
<!-- Line 401-413: Premium Plus CTAã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- æœ€æ–°æ—¥ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 1æ—¥å‰ -->
<img src="/upsell-images/upsell-YYYYMMDD.png" />  <!-- 2æ—¥å‰ -->
```

#### **Step 3: withdrawal-upsell.astroï¼ˆè‡ªå‹•ï¼‰**
- âœ… **è‡ªå‹•ã§æœ€æ–°ç”»åƒã‚’èª­ã¿è¾¼ã¿**ï¼ˆLine 534ï¼‰
- âœ… æœ€å¤§10æ—¥å‰ã¾ã§é¡ã£ã¦æ¤œç´¢
- âœ… æ‰‹å‹•æ›´æ–°ä¸è¦

### ğŸš€ **Step 4: ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆç”»åƒãƒ•ã‚¡ã‚¤ãƒ« + Astroãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```bash
# ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒUntracked filesã®å ´åˆã¯è¿½åŠ ï¼ˆå†ç¢ºèªï¼‰
git add public/upsell-images/upsell-YYYYMMDD.png

# Astroãƒ•ã‚¡ã‚¤ãƒ«ã‚‚è¿½åŠ 
git add src/pages/premium-plus.astro src/pages/premium-sanrenpuku.astro

# ã‚³ãƒŸãƒƒãƒˆ
git commit -m "ğŸ“¸ Premium Pluså®Ÿç¸¾ç”»åƒæ›´æ–°ãƒ»YYYY-MM-DD"

# ãƒ—ãƒƒã‚·ãƒ¥
git push origin main
```

### ğŸš€ **ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**
```
ğŸ“¸ Premium Pluså®Ÿç¸¾ç”»åƒæ›´æ–°ãƒ»YYYY-MM-DD

- premium-plus.astro: ç›´è¿‘5æˆ¦ï¼ˆMM/DDã€œMM/DDï¼‰
- premium-sanrenpuku.astro: ç›´è¿‘3æˆ¦ï¼ˆMM/DDã€œMM/DDï¼‰
- withdrawal-upsell.astro: è‡ªå‹•èª­ã¿è¾¼ã¿ âœ…

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

### âš ï¸ **é‡è¦ãƒã‚¤ãƒ³ãƒˆ**
- ğŸ“‚ ç”»åƒã¯ `/public/upsell-images/upsell-YYYYMMDD.png` ã«é…ç½®
- ğŸ“… ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼: `upsell-20251128.png`ï¼ˆ8æ¡æ—¥ä»˜ï¼‰
- ğŸ”„ withdrawal-upsellã¯è‡ªå‹•èª­ã¿è¾¼ã¿ã®ãŸã‚æ›´æ–°ä¸è¦

---

## ğŸ”§ **å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨˜éŒ²** ğŸ”§

### âœ… **2026-01-13 VSCodeã‚¯ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢å¯¾ç­–å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»å•é¡Œ**
- **æ—¥æ™‚**: 2026å¹´1æœˆ13æ—¥
- **å•é¡Œ**: 3ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é–‹ã„ã¦ã„ãŸãŸã‚VSCodeãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: nankan-analytics + ä»–2ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **ç—‡çŠ¶**: VSCodeã®çªç„¶çµ‚äº†ã€ãƒ•ãƒªãƒ¼ã‚ºã€TypeScript IntelliSenseã®å¿œç­”åœæ­¢
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: æ¨å®š1.5GBã€œ2GBï¼ˆè¤‡æ•°ã®TypeScriptã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ï¼‰

#### **å®Ÿè£…ã—ãŸå¯¾ç­–ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰**

##### **1. .vscode/settings.json ã®æœ€é©åŒ–**
```json
{
  // TypeScriptã‚µãƒ¼ãƒãƒ¼ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3GB â†’ 2GBï¼‰
  "typescript.tsserver.maxTsServerMemory": 2048,

  // ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã‚’ç„¡åŠ¹åŒ–ï¼ˆãƒ¡ãƒ¢ãƒªåœ§è¿«é˜²æ­¢ï¼‰
  "files.watcherExclude": {
    "**/node_modules/**": true,
    "**/.git/**": true,
    "**/dist/**": true,
    "**/.astro/**": true,
    "**/public/**": true
  },

  // è‡ªå‹•ä¿å­˜ã‚’ç„¡åŠ¹åŒ–ï¼ˆé »ç¹ãªæ›¸ãè¾¼ã¿é˜²æ­¢ï¼‰
  "files.autoSave": "off",

  // Gitè‡ªå‹•ãƒ•ã‚§ãƒƒãƒã‚’ç„¡åŠ¹åŒ–
  "git.autorefresh": false,
  "git.autofetch": false,

  // Editorã®è»½é‡åŒ–
  "editor.minimap.enabled": false,
  "editor.quickSuggestions": {
    "other": false,
    "comments": false,
    "strings": false
  }
}
```

**åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’30-40%å‰Šæ¸›

##### **2. VSCode-CRASH-FIX.md ä½œæˆ**
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ä½œæˆ
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®å¯¾å‡¦æ³•ï¼ˆãƒ—ãƒ­ã‚»ã‚¹å¼·åˆ¶çµ‚äº†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ï¼‰
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç¢ºèªæ–¹æ³•
- æ‹¡å¼µæ©Ÿèƒ½ã®æœ€é©åŒ–
- æ—¥å¸¸çš„ãªé‹ç”¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

##### **3. nankan-analytics.code-workspace ä½œæˆ**
- ãƒãƒ«ãƒãƒ«ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä½œæˆ
- ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠçš„ã«è¡¨ç¤ºå¯èƒ½
- ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‰ã˜ã¦ãƒ¡ãƒ¢ãƒªç¯€ç´„

**æ§‹æˆ:**
```json
{
  "folders": [
    { "name": "ğŸ“¦ Root (NANKAN Analytics)", "path": "." },
    { "name": "ğŸŒŸ Astro Site (Main)", "path": "astro-site" },
    { "name": "ğŸ’³ Stripe Integration", "path": "nankan-stripe-integration" }
  ]
}
```

#### **æ¨å¥¨é‹ç”¨æ–¹æ³•**

**æ–¹æ³•1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’1ã¤ãšã¤é–‹ãï¼ˆæœ€ã‚‚å®‰å®šï¼‰** â­æ¨å¥¨
```bash
cd "/Users/apolon/Projects/nankan-analytics"
code .
```
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 500MBã€œ800MB
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚¹ã‚¯: ã»ã¼ã‚¼ãƒ­

**æ–¹æ³•2: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã†ï¼ˆè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾å¿œï¼‰**
```bash
code nankan-analytics.code-workspace
```
- å¿…è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã ã‘é¸æŠçš„ã«è¡¨ç¤º
- ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‰ã˜ã¦ãƒ¡ãƒ¢ãƒªç¯€ç´„

**æ–¹æ³•3: è¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãå ´åˆã®æ³¨æ„**
- âŒ 3ã¤ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é–‹ã‹ãªã„
- âœ… æœ€å¤§2ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¾ã§
- âœ… ä¸è¦ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯å³åº§ã«é–‰ã˜ã‚‹

#### **ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®å¯¾å‡¦æ³•**

**ç·Šæ€¥å¯¾å¿œ:**
```bash
# ã™ã¹ã¦ã®VSCodeãƒ—ãƒ­ã‚»ã‚¹ã‚’å¼·åˆ¶çµ‚äº†
killall "Code Helper"
killall "Visual Studio Code"

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
rm -rf ~/Library/Application\ Support/Code/Cache
rm -rf ~/Library/Application\ Support/Code/CachedData
rm -rf ~/Library/Application\ Support/Code/Code\ Cache

# å†èµ·å‹•ï¼ˆ1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ï¼‰
cd "/Users/apolon/Projects/nankan-analytics"
code .
```

#### **æŠ€è¡“çš„æˆæœ**
- âœ… ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡30-40%å‰Šæ¸›
- âœ… ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚¹ã‚¯æ¿€æ¸›
- âœ… è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒæ™‚ä½œæ¥­æ™‚ã®å®‰å®šæ€§å‘ä¸Š
- âœ… è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰å®Œå‚™

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… ä½œæ¥­ä¸­æ–­ã®é˜²æ­¢ï¼ˆç”Ÿç”£æ€§å‘ä¸Šï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿æå¤±ãƒªã‚¹ã‚¯ã®ä½æ¸›
- âœ… è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸¦è¡Œä½œæ¥­ã®åŠ¹ç‡åŒ–

#### **å‚è€ƒ**
- ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆkeiba-review-monorepoï¼‰ã§å®Ÿè£…ã•ã‚ŒãŸå¯¾ç­–ã‚’å‚è€ƒã«ã€nankan-analyticsç”¨ã«æœ€é©åŒ–
- Monorepoç‰¹æœ‰ã®å•é¡Œã§ã¯ãªãã€è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒæ™‚èµ·å‹•ã«ã‚ˆã‚‹å…±é€šå•é¡Œã¨ã—ã¦å¯¾å‡¦

---
### âœ… **2026-02-09 ä¾¡æ ¼ä½“ç³»å¤‰æ›´ï¼ˆè²·ã„åˆ‡ã‚Šãƒ»å¹´æ‰•ã„åˆ¶å°å…¥ï¼‰**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **æ—¥æ™‚**: 2026å¹´2æœˆ9æ—¥
- **æ±ºæ¸ˆæ‰‹æ®µ**: éŠ€è¡ŒæŒ¯è¾¼ã®ã¿ï¼ˆStripe/PayPalåœæ­¢ä¸­ï¼‰
- **å•é¡Œ**: æœˆé¡èª²é‡‘ã®ä¸å®‰å®šæ€§ãƒ»åç›Šäºˆæ¸¬ã®å›°é›£
- **æ–¹é‡**: è²·ã„åˆ‡ã‚Šãƒ»å¹´æ‰•ã„ã‚’ä¸»ä½“ã¨ã—ãŸä¾¡æ ¼ä½“ç³»ã¸ã®è»¢æ›

#### **æ–°ä¾¡æ ¼ä½“ç³»**

**âœ… ä¸»è¦ãƒ—ãƒ©ãƒ³ï¼ˆ/pricing/ ã§è²©å£²ï¼‰**
- **Standard**: ä¸€æ™‚éè¡¨ç¤ºï¼ˆæ—¢å­˜ä¼šå“¡ã®ã¿åˆ©ç”¨å¯èƒ½ï¼‰
- **Premium è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ **Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼**ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ğŸ”¥
- **Premium å¹´æ‰•ã„**: **Â¥68,000/å¹´**
- **Premium æœˆæ‰•ã„**: **Â¥18,000/æœˆ**ï¼ˆå¾“æ¥Â¥9,980ã‹ã‚‰å€¤ä¸Šã’ï¼‰

**âœ… ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ï¼ˆæ—¢å­˜ä¼šå“¡å‘ã‘ï¼‰**
- **Premium Sanrenpuku è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ **Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼**ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ğŸ”¥
- **Premium Combo è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ **Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼**ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ğŸ”¥

**âœ… å˜å“å•†å“ï¼ˆSanrenpuku/Comboä¼šå“¡å‘ã‘ï¼‰**
- **Premium Plus**: Â¥98,000 â†’ **Â¥68,000 ç‰¹åˆ¥ä¾¡æ ¼**ï¼ˆå˜å“ï¼‰

#### **å®Ÿè£…å†…å®¹ï¼ˆ6ãƒšãƒ¼ã‚¸æ›´æ–°ï¼‰**

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|----------|
| `/pricing.astro` | 4ãƒ—ãƒ©ãƒ³è¡¨ç¤ºï¼ˆFree/Premiumè²·ã„åˆ‡ã‚Š/å¹´æ‰•ã„/æœˆæ‰•ã„ï¼‰ã€Standardéè¡¨ç¤º |
| `/dashboard.astro` | Premium/Standardä¼šå“¡å‘ã‘ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆè²·ã„åˆ‡ã‚ŠÂ¥78,000ï¼‰ |
| `/premium-predictions.astro` | Sanrenpuku/Comboè²·ã„åˆ‡ã‚Šï¼ˆÂ¥78,000ï¼‰ |
| `/standard-predictions.astro` | Sanrenpuku/Comboè²·ã„åˆ‡ã‚Šï¼ˆÂ¥78,000ï¼‰ |
| `/premium-sanrenpuku.astro` | Premium Plusè²·ã„åˆ‡ã‚Šï¼ˆÂ¥68,000ï¼‰ |
| `CLAUDE.md` | ä¾¡æ ¼ä½“ç³»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° |

#### **æŠ€è¡“å®Ÿè£…ã®ç‰¹å¾´**

**1. planType ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å°å…¥**
```javascript
function openBankModal(planName, amount, planType = 'monthly') {
  let periodText = '';
  if (planType === 'lifetime') {
    periodText = 'ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰';
  } else if (planType === 'annual') {
    periodText = '/å¹´';
  } else {
    periodText = '/æœˆ';
  }
  // ...
}
```

**2. ç‰¹åˆ¥ä¾¡æ ¼è¡¨ç¤ºï¼ˆstrikethroughï¼‰**
```css
.price-strike {
  font-size: 1.2rem;
  color: #94a3b8;
  text-decoration: line-through;
  margin-bottom: 0.5rem;
}
```

**3. è²·ã„åˆ‡ã‚Šãƒ—ãƒ©ãƒ³å¼·èª¿ï¼ˆglow animationï¼‰**
```css
.plan-button-lifetime {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  animation: glow 2s ease-in-out infinite alternate;
}
```

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **åç›Šå®‰å®šåŒ–**: è²·ã„åˆ‡ã‚Š78,000å††ã§æœˆé¡8ãƒ¶æœˆåˆ†ã®å‰æ‰•ã„ç¢ºä¿
- âœ… **é¡§å®¢å˜ä¾¡å‘ä¸Š**: æœˆæ‰•ã„Â¥9,980â†’Â¥18,000ï¼ˆ80%å€¤ä¸Šã’ï¼‰
- âœ… **è§£ç´„ãƒªã‚¹ã‚¯ä½æ¸›**: è²·ã„åˆ‡ã‚Šãƒ—ãƒ©ãƒ³ã§ç¶™ç¶šç‡100%

**é•·æœŸãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼æ”¹å–„**: å‰æ‰•ã„é‡‘ã§é‹è»¢è³‡é‡‘ç¢ºä¿
- âœ… **ä¾¡æ ¼è¨­å®šã®æŸ”è»Ÿæ€§**: ç‰¹åˆ¥ä¾¡æ ¼çµ‚äº†å¾Œã¯é€šå¸¸ä¾¡æ ¼Â¥108,000ã«æˆ»ã›ã‚‹
- âœ… **ã‚¢ãƒƒãƒ—ã‚»ãƒ«å°ç·š**: è²·ã„åˆ‡ã‚Šâ†’å¹´æ‰•ã„â†’æœˆæ‰•ã„ã®æ®µéšçš„åç›ŠåŒ–

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **æ—¥æ™‚**: 2026å¹´2æœˆ9æ—¥
- **å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 6ãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ“ãƒ«ãƒ‰**: æˆåŠŸï¼ˆ121ãƒšãƒ¼ã‚¸ç”Ÿæˆï¼‰

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
- â³ Paddle Payment Linksè¨­å®šï¼ˆè²·ã„åˆ‡ã‚Š/å¹´æ‰•ã„/æœˆæ‰•ã„ï¼‰
- â³ æ—¢å­˜ä¼šå“¡ã¸ã®ä¾¡æ ¼æ”¹å®šé€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡
- â³ ç‰¹åˆ¥ä¾¡æ ¼ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æœŸé™è¨­å®šï¼ˆä¾‹: 2026å¹´3æœˆæœ«ã¾ã§ï¼‰

---
### âœ… **2026-01-16 æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ å®Œå…¨éŠ€è¡ŒæŒ¯è¾¼åŒ–**

#### **èƒŒæ™¯ãƒ»ç·Šæ€¥å¯¾å¿œ**
- **æ—¥æ™‚**: 2026å¹´1æœˆ16æ—¥
- **å•é¡Œ**: Stripeå…¥é‡‘åœæ­¢ãƒ»PayPalæ°¸ä¹…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåœæ­¢
- **å¯¾å¿œ**: éŠ€è¡ŒæŒ¯è¾¼ã®ã¿ãŒå”¯ä¸€ã®æ±ºæ¸ˆæ‰‹æ®µã«
- **æ–¹é‡**: å…¨ãƒ—ãƒ©ãƒ³ï¼ˆStandard/Premium/Sanrenpuku/Combo/Plusï¼‰éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…

#### **å®Ÿè£…å†…å®¹ï¼ˆ7ãƒšãƒ¼ã‚¸ä¸€æ‹¬å®Ÿè£…ï¼‰**

| ãƒšãƒ¼ã‚¸ | å¯¾è±¡ãƒ—ãƒ©ãƒ³ | ç”¨é€” |
|--------|-----------|------|
| dashboard.astro | Sanrenpuku/Combo | æ—¢å­˜ä¼šå“¡ãƒ—ãƒ©ãƒ³å¤‰æ›´ |
| premium-predictions.astro | Sanrenpuku/Combo | Premiumã‹ã‚‰ã‚¢ãƒƒãƒ—ã‚»ãƒ« |
| standard-predictions.astro | Sanrenpuku/Combo | æ–°è¦ç”³ã—è¾¼ã¿ |
| sanrenpuku-demo.astro | Sanrenpuku/Combo | ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ |
| archive-sanrenpuku/index.astro | Sanrenpuku/Combo | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– |
| premium-sanrenpuku.astro | Premium Plus | å°‚ç”¨ãƒšãƒ¼ã‚¸ |
| withdrawal-upsell.astro | Premium Plus | é€€ä¼šæ™‚ã‚¢ãƒƒãƒ—ã‚»ãƒ« |

#### **æ©Ÿèƒ½å®Ÿè£…**
```
âœ… mailtoãƒªãƒ³ã‚¯ â†’ éŠ€è¡ŒæŒ¯è¾¼ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒœã‚¿ãƒ³ã«ç½®ãæ›ãˆ
âœ… å£åº§æƒ…å ±è‡ªå‹•è¡¨ç¤ºï¼ˆä¸‰äº•ä½å‹éŠ€è¡Œ æ´²æœ¬æ”¯åº— æ™®é€š 5338892ï¼‰
âœ… ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ”ãƒ¼ï¼‰
âœ… ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆåå‰ãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»æŒ¯è¾¼æ—¥æ™‚ãƒ»é‡‘é¡ãƒ»åç¾©äººãƒ»å‚™è€ƒï¼‰
âœ… SendGridè‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆç®¡ç†è€…ãƒ»ç”³è«‹è€…ä¸¡æ–¹ï¼‰
âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™
```

#### **bank-transfer-application.jsä¿®æ­£**
- **å•é¡Œ**: productNameå¤‰æ•°ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ4ç®‡æ‰€ï¼‰
- **ä¿®æ­£å†…å®¹**:
  - Line 103: ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ `${productName} è³¼å…¥ç”³è«‹ãŒå±Šãã¾ã—ãŸ`
  - Line 157: Airtableç™»éŒ²æŒ‡ç¤º `Airtableã«é¡§å®¢æƒ…å ±ã‚’ç™»éŒ²ï¼ˆ${productName}ï¼‰`
  - Line 179: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«ä»¶å `ã€éŠ€è¡ŒæŒ¯è¾¼ç”³è«‹å—ä»˜ã€‘NANKANã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ ${productName}`
  - Line 255: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ `${productName} ã®ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ã‚’ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã„ãŸã—ã¾ã™`

#### **å¯¾å¿œãƒ—ãƒ©ãƒ³ï¼ˆ2026-02-09æ›´æ–°ï¼šè²·ã„åˆ‡ã‚Šãƒ»å¹´æ‰•ã„åˆ¶å°å…¥ï¼‰**
- **Standard**: ä¸€æ™‚éè¡¨ç¤ºï¼ˆæ—¢å­˜ä¼šå“¡ã®ã¿åˆ©ç”¨å¯èƒ½ï¼‰
- **Premium è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- **Premium å¹´æ‰•ã„**: Â¥68,000/å¹´
- **Premium æœˆæ‰•ã„**: Â¥18,000/æœˆ
- **Premium Sanrenpuku è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- **Premium Combo è²·ã„åˆ‡ã‚Š**: Â¥108,000 â†’ Â¥78,000 ç‰¹åˆ¥ä¾¡æ ¼ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- **Premium Plus**: Â¥98,000 â†’ Â¥68,000 ç‰¹åˆ¥ä¾¡æ ¼ï¼ˆå˜å“ï¼‰

#### **æŠ€è¡“çš„æˆæœ**
- **å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒ•ã‚¡ã‚¤ãƒ«
- **è¿½åŠ è¡Œæ•°**: 1,732è¡Œï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«HTML + JavaScriptï¼‰
- **å‰Šé™¤è¡Œæ•°**: 19è¡Œï¼ˆmailtoãƒªãƒ³ã‚¯ï¼‰

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚³ãƒŸãƒƒãƒˆ1**: `0c4ca9df` - productNameå¤‰æ•°ä¿®æ­£
- **ã‚³ãƒŸãƒƒãƒˆ2**: `1d434c12` - å…¨ãƒ—ãƒ©ãƒ³éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- **æ—¥æ™‚**: 2026-01-16
- **Netlify**: è‡ªå‹•ãƒ“ãƒ«ãƒ‰å®Œäº†ãƒ»æœ¬ç•ªåæ˜ æ¸ˆã¿

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… **å³æ™‚åŠ¹æœ**: å…¨ãƒ—ãƒ©ãƒ³ã®ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ å®Œå‚™ï¼ˆéŠ€è¡ŒæŒ¯è¾¼ã®ã¿ï¼‰
- âœ… **é‹ç”¨åŠ¹ç‡**: SendGridè‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã§æ‰‹å‹•å¯¾å¿œä¸è¦
- âœ… **é¡§å®¢ä½“é¨“**: å£åº§æƒ…å ±ã‚³ãƒ”ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã§æ‰‹è»½ã«ç”³ã—è¾¼ã¿å¯èƒ½
- âœ… **å°†æ¥å¯¾å¿œ**: Square/SMBCå£åº§æŒ¯æ›¿ç”³è«‹ã®æº–å‚™å®Œäº†

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
- â³ Squareç”³è«‹ï¼ˆãƒ€ãƒ¡å…ƒï¼‰
- â³ SMBCå£åº§æŒ¯æ›¿ç”³è«‹ï¼ˆæ¨å¥¨ï¼‰
- â³ PayPay for Businessç”³è«‹ï¼ˆãƒ€ãƒ¡å…ƒï¼‰
- â³ Zapierè‡ªå‹•åŒ–ï¼ˆæŒ¯è¾¼é€šçŸ¥ â†’ Airtable â†’ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼‰

---



### âœ… **2026-01-12 Queueæ–¹å¼ãƒ¡ãƒ«ãƒã‚¬é…ä¿¡ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **æ—¥æ™‚**: 2026å¹´1æœˆ12æ—¥
- **å•é¡Œ**: 2025-11-12é‡è¤‡é€ä¿¡ãƒˆãƒ©ã‚¦ãƒï¼ˆ126,389é€šé€ä¿¡ãƒ»8å€é‡è¤‡ï¼‰
- **è¦æ±‚**: 16,000ä»¶ä»¥ä¸Šã®å¤§é‡é…ä¿¡ã«å¯¾å¿œã—ãŸå®‰å…¨ãªãƒ¡ãƒ«ãƒã‚¬ã‚·ã‚¹ãƒ†ãƒ 
- **æ–¹é‡**: Webhookçµ±åˆã®å†ªç­‰æ€§è¨­è¨ˆã‚’å¿œç”¨ï¼ˆevent_idé‡è¤‡æ’é™¤ãƒ»performUpsertï¼‰

#### **å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œï¼ˆ5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’å®Œå…¨è§£æ±ºï¼‰**

##### **Issue 1: 1ä»¶ãšã¤Airtableæ›´æ–° â†’ 5rpsåˆ¶é™ã§è©°ã¾ã‚‹**
**å•é¡Œ:**
```javascript
// âŒ å¾“æ¥å®Ÿè£…ï¼ˆ16,000ä»¶ = 16,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
for (const record of queueRecords) {
  await sendEmail();
  await fetch(`/NewsletterQueue/${recordId}`, { method: 'PATCH' });  // 1ä»¶ãšã¤
}
```

**è§£æ±ºç­–:**
```javascript
// âœ… ä¿®æ­£å¾Œï¼ˆ16,000ä»¶ = 1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»90%å‰Šæ¸›ï¼‰
const sendResults = [];  // çµæœã‚’æºœã‚è¾¼ã‚€
for (const record of queueRecords) {
  await sendEmail();
  sendResults.push({ id: recordId, fields: { Status: 'success', ... }});
}

// 10ä»¶ãƒãƒƒãƒæ›´æ–°
const updateBatches = chunkArray(sendResults, 10);
for (const updateBatch of updateBatches) {
  await fetch('/NewsletterQueue', {
    method: 'PATCH',
    body: JSON.stringify({ records: updateBatch })  // 10ä»¶ã¾ã¨ã‚ã¦
  });
  await sleep(200);  // 5rpså¯¾ç­–
}
```

##### **Issue 2: Formulaå‹Key â†’ é‡è¤‡QueueæŠ•å…¥é˜²æ­¢ã§ããªã„**
**å•é¡Œ:**
- Airtable Formulaå‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ`{JobId} & ":" & LOWER({Email})`ï¼‰ã¯æ›¸ãè¾¼ã¿å°‚ç”¨
- POSTã§è¤‡æ•°å›å®Ÿè¡Œã™ã‚‹ã¨åŒã˜é¡§å®¢ã«é‡è¤‡ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œã‚‰ã‚Œã‚‹

**è§£æ±ºç­–:**
```javascript
// âœ… performUpsertå®Ÿè£…ï¼ˆé‡è¤‡ã‚’æ§‹é€ çš„ã«é˜²æ­¢ï¼‰
const queueData = {
  performUpsert: {
    fieldsToMergeOn: ['Key']  // Keyãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§é‡è¤‡åˆ¤å®š
  },
  records: batch.map(customer => ({
    fields: {
      'Key': `${jobId}:${customer.email.toLowerCase()}`,  // æ‰‹å‹•ç”Ÿæˆ
      'Email': customer.email,
      'Status': 'pending',
      ...
    }
  }))
};

await fetch('/NewsletterQueue', {
  method: 'PATCH',  // performUpsertã¯PATCH
  body: JSON.stringify(queueData)
});
```

**åŠ¹æœ:**
- åŒã˜JobId + email ã®çµ„ã¿åˆã‚ã›ãŒæ—¢ã«ã‚ã‚‹ â†’ æ›´æ–°ï¼ˆä¸Šæ›¸ãï¼‰
- å­˜åœ¨ã—ãªã„ â†’ æ–°è¦ä½œæˆ
- â†’ é‡è¤‡QueueæŠ•å…¥ãŒæ§‹é€ çš„ã«ä¸å¯èƒ½

##### **Issue 3: äºŒé‡èµ·å‹•ãƒ¬ãƒ¼ã‚¹ â†’ pendingå–å¾—â†’sendingæ›´æ–°ã¯åŸå­çš„ã§ã¯ãªã„**
**å•é¡Œ:**
- è¤‡æ•°ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒåŒæ™‚ã« `Status=pending` ã‚’å–å¾—
- åŒã˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¤‡æ•°å›é€ä¿¡ã—ã¦ã—ã¾ã†

**è§£æ±ºç­–ï¼ˆè¦‹ã‹ã‘ä¸Šã®ãƒ­ãƒƒã‚¯ï¼‰:**
```javascript
// 1. LeaseIdç”Ÿæˆ
const LEASE_ID = `worker-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
const LEASE_DURATION = 15 * 60 * 1000;  // 15åˆ†

// 2. ClaimedAt/ClaimedByã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
const leaseExpireTime = new Date(Date.now() - LEASE_DURATION);
const filterFormula = `AND(
  {JobId} = "${jobId}",
  {Status} = "pending",
  OR(
    {ClaimedAt} = BLANK(),
    IS_BEFORE({ClaimedAt}, '${leaseExpireTime.toISOString()}')
  )
)`;

// 3. å–å¾—å¾Œã€å³åº§ã«Claimæ›´æ–°
const claimPayload = {
  records: queueRecords.map(record => ({
    id: record.id,
    fields: {
      'ClaimedAt': new Date().toISOString(),
      'ClaimedBy': LEASE_ID
    }
  }))
};
await fetch('/NewsletterQueue', { method: 'PATCH', body: JSON.stringify({ records: claimPayload }) });

// 4. é€ä¿¡å®Œäº†å¾Œã€ClaimedAtã‚’nullã«æˆ»ã™
sendResults.push({
  id: recordId,
  fields: {
    'Status': 'success',
    'ClaimedAt': null,
    'ClaimedBy': null
  }
});
```

**åŠ¹æœ:**
- ä»–ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ã¯ã€Œ15åˆ†ä»¥å†…ã«Claimã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã€ã‚’ã‚¹ã‚­ãƒƒãƒ—
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸãƒ¯ãƒ¼ã‚«ãƒ¼ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚‚15åˆ†å¾Œã«è‡ªå‹•è§£æ”¾

##### **Issue 4: Background Functionså‘½å â†’ ãƒ•ã‚¡ã‚¤ãƒ«åãƒ«ãƒ¼ãƒ«ç¢ºèªå¿…è¦**
**å•é¡Œ:**
- `send-newsletter-worker.js` ã§ã¯ Background Functions ã¨ã—ã¦èªè­˜ã•ã‚Œãªã„å¯èƒ½æ€§

**è§£æ±ºç­–:**
- ãƒ•ã‚¡ã‚¤ãƒ«å: `send-newsletter-worker-background.js`
- netlify.tomlè¨­å®š:
```toml
[[functions]]
  name = "send-newsletter-worker-background"
  type = "background"
```

##### **Issue 5: ç®¡ç†ç”»é¢ã§API Keyéœ²å‡º â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã§Airtableç›´æ¥å‘¼ã³å‡ºã—**
**å•é¡Œ:**
```javascript
// âŒ å¾“æ¥å®Ÿè£…ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚API Keyéœ²å‡ºï¼‰
const AIRTABLE_API_KEY = import.meta.env.AIRTABLE_API_KEY;  // ãƒ–ãƒ©ã‚¦ã‚¶ã«éœ²å‡º
const jobResponse = await fetch(`https://api.airtable.com/v0/...`, {
  headers: { 'Authorization': `Bearer ${AIRTABLE_API_KEY}` }
});
```

**è§£æ±ºç­–:**
```javascript
// âœ… ä¿®æ­£å¾Œï¼ˆFunctionsçµŒç”±ãƒ»API Keyå®Œå…¨ä¿è­·ï¼‰
// get-newsletter-status.jsï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰
export default async function handler(request, context) {
  const AIRTABLE_API_KEY = process.env.AIRTABLE_API_KEY;  // ã‚µãƒ¼ãƒãƒ¼ã®ã¿
  const jobId = new URL(request.url).searchParams.get('jobId');

  const jobResponse = await fetch(`https://api.airtable.com/v0/...`, {
    headers: { 'Authorization': `Bearer ${AIRTABLE_API_KEY}` }
  });

  return new Response(JSON.stringify({ job, queueStats }));
}

// newsletter-status.astroï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰
const response = await fetch(`/.netlify/functions/get-newsletter-status?jobId=${jobId}`);
const data = await response.json();  // API Keyãªã—ãƒ»å®‰å…¨
```

---

#### **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | ä¸»è¦ä¿®æ­£ |
|---------|------|----------|
| `send-newsletter-worker-background.js` | é€ä¿¡ãƒ¯ãƒ¼ã‚«ãƒ¼ | 10ä»¶ãƒãƒƒãƒæ›´æ–°ãƒ»LeaseIdå®Ÿè£… |
| `create-newsletter-queue.js` | Queueç”Ÿæˆ | performUpsertå®Ÿè£…ãƒ»Keyæ‰‹å‹•ç”Ÿæˆ |
| `get-newsletter-status.js` | é€²æ—å–å¾—API | ãƒ—ãƒ­ã‚­ã‚·Functionï¼ˆAPI Keyä¿è­·ï¼‰ |
| `newsletter-status.astro` | é€²æ—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | FunctionsçµŒç”±ãƒ‡ãƒ¼ã‚¿å–å¾— |
| `retry-failed-emails.js` | å¤±æ•—åˆ†å†é€ | failed â†’ pending æ›´æ–° |
| `AIRTABLE_NEWSLETTER_SETUP.md` | ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸ | å®Œå…¨ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ |
| `netlify.toml` | Netlifyè¨­å®š | Background Functionsè¨­å®š |

---

#### **Airtableãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ**

##### **NewsletterJobsï¼ˆã‚¸ãƒ§ãƒ–ç®¡ç†ï¼‰**
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| JobId | Single line text | ã‚¸ãƒ§ãƒ–IDï¼ˆé‡è¤‡ä¸å¯ï¼‰ |
| Subject | Single line text | ãƒ¡ãƒ¼ãƒ«ä»¶å |
| Content | Long text | ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ |
| Status | Single select | draft/queued/sending/completed/paused/failed |
| TotalRecipients | Number | ç·é…ä¿¡æ•° |
| SentSuccess | Number | é€ä¿¡æˆåŠŸæ•° |
| SentFailed | Number | é€ä¿¡å¤±æ•—æ•° |

##### **NewsletterQueueï¼ˆé…ä¿¡ã‚­ãƒ¥ãƒ¼ï¼‰**
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| Key | Single line text | `jobId:lowercase(email)`ï¼ˆé‡è¤‡ä¸å¯ï¼‰â˜… |
| JobId | Link to record | NewsletterJobsãƒªãƒ³ã‚¯ |
| Email | Email | é…ä¿¡å…ˆ |
| Status | Single select | pending/success/failed |
| ClaimedAt | Date | ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒå–ã‚Šè¾¼ã‚“ã æ—¥æ™‚â˜… |
| ClaimedBy | Single line text | LeaseIdï¼ˆäºŒé‡èµ·å‹•ã‚¬ãƒ¼ãƒ‰ï¼‰â˜… |
| SentAt | Date | é€ä¿¡å®Œäº†æ—¥æ™‚ |
| LastError | Long text | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| RetryCount | Number | å†é€å›æ•° |

â˜… = å°‚é–€å®¶æ¨å¥¨ã«ã‚ˆã‚‹æ–°è¦è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

---

#### **ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œãƒ•ãƒ­ãƒ¼**

**1. Queueç”Ÿæˆï¼ˆcreate-newsletter-queue.jsï¼‰**
```
draft â†’ Customerså–å¾—ï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼‰ â†’ NewsletterQueueæŠ•å…¥ï¼ˆperformUpsertãƒ»10ä»¶ãƒãƒƒãƒï¼‰ â†’ queued
```

**2. é€ä¿¡ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼ˆsend-newsletter-worker-background.jsï¼‰**
```
while (æ®‹ã‚Šæ™‚é–“ã‚ã‚Š) {
  1. pending AND (ClaimedAt=ç©º OR ClaimedAt<15åˆ†å‰) å–å¾—ï¼ˆ100ä»¶ï¼‰
  2. å³åº§ã«ClaimedAt/ClaimedByæ›´æ–°ï¼ˆ10ä»¶ãƒãƒƒãƒï¼‰
  3. SendGridé€ä¿¡ï¼ˆ8é€š/ç§’ãƒ»125ms/é€šï¼‰
  4. çµæœã‚’10ä»¶ãƒãƒƒãƒæ›´æ–°ï¼ˆClaimedAtã‚’nullã«æˆ»ã™ï¼‰
  5. Jobé›†è¨ˆæ›´æ–°
}
```

**3. å®Œäº†åˆ¤å®š**
```
pending=0ä»¶ â†’ Job.Status='completed'
pending>0ä»¶ â†’ Job.Status='sending'ï¼ˆæ¬¡å›å®Ÿè¡Œã§ç¶šè¡Œï¼‰
```

---

#### **APIåˆ¶é™å¯¾ç­–**

| API | åˆ¶é™ | å¯¾ç­– | 16,000ä»¶ã®å‡¦ç†æ™‚é–“ |
|-----|------|------|-------------------|
| Airtable | 5 requests/second | 10ä»¶ãƒãƒƒãƒ + 200mså¾…æ©Ÿ | ç´„5åˆ†ï¼ˆ1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ |
| SendGrid | ãªã—ï¼ˆè‡ªä¸»åˆ¶é™ï¼‰ | 8é€š/ç§’ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚° | ç´„33åˆ†ï¼ˆ2,000ç§’ï¼‰ |
| Background Functions | 15åˆ†å®Ÿè¡Œåˆ¶é™ | 13åˆ†ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ ç¶šè¡Œå¯èƒ½ | 2ã€œ3å›å®Ÿè¡Œã§å®Œäº† |

---

#### **æŠ€è¡“çš„æˆæœ**

**å†ªç­‰æ€§ä¿è¨¼:**
- âœ… performUpsert: Keyã§é‡è¤‡QueueæŠ•å…¥é˜²æ­¢ï¼ˆæ§‹é€ çš„ï¼‰
- âœ… ClaimedAt: äºŒé‡é€ä¿¡é˜²æ­¢ï¼ˆè¦‹ã‹ã‘ä¸Šã®ãƒ­ãƒƒã‚¯ï¼‰
- âœ… Statusé·ç§»: pending â†’ success/failedï¼ˆä¸€æ–¹é€šè¡Œï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:**
- âœ… Airtable APIå‘¼ã³å‡ºã—: 90%å‰Šæ¸›ï¼ˆ16,000 â†’ 1,600ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
- âœ… 16,000ä»¶é…ä¿¡æ™‚é–“: ç´„33åˆ†ï¼ˆ2ã€œ3å›ã®Background Functionså®Ÿè¡Œï¼‰
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–: Airtable 5rpsã€SendGrid 8é€š/ç§’

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:**
- âœ… API Keyéœ²å‡ºå®Œå…¨æ’é™¤ï¼ˆFunctionsçµŒç”±ãƒ—ãƒ­ã‚­ã‚·ï¼‰
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã¯å®‰å…¨ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã¿å‘¼ã³å‡ºã—

---

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **2025-11-12é‡è¤‡é€ä¿¡ãƒˆãƒ©ã‚¦ãƒã®å®Œå…¨è§£æ±º**: æ§‹é€ çš„ã«é‡è¤‡é€ä¿¡ä¸å¯èƒ½
- âœ… **16,000ä»¶ä»¥ä¸Šã®å¤§é‡é…ä¿¡å¯¾å¿œ**: Background Functions + Queueæ–¹å¼
- âœ… **å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã‚‹æœ¬ç•ªå“è³ªå®Ÿç¾**: 5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’å®Œå…¨è§£æ±º

**é•·æœŸé‹ç”¨ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **å®‰å…¨æ€§**: performUpsert + LeaseId ã§é‡è¤‡äº‹æ•…é˜²æ­¢
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: 100,000ä»¶ã§ã‚‚å¯¾å¿œå¯èƒ½
- âœ… **ä¿å®ˆæ€§**: AIRTABLE_NEWSLETTER_SETUP.md ã§å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

---

#### **æ¬¡å›é‹ç”¨æ‰‹é †**

**Step 1: Airtableãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ**
1. AIRTABLE_NEWSLETTER_SETUP.md ã‚’å‚ç…§
2. NewsletterJobs/NewsletterQueueãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
3. ClaimedAt/ClaimedBy/Keyãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆé‡è¤‡ä¸å¯è¨­å®šï¼‰

**Step 2: Queueç”Ÿæˆ**
```bash
curl -X POST https://nankan-analytics.netlify.app/.netlify/functions/create-newsletter-queue \
  -H 'Content-Type: application/json' \
  -d '{
    "jobId": "JOB-2026-01-12-001",
    "subject": "ã€NANKANã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã€‘ãƒ¡ãƒ«ãƒã‚¬ã‚¿ã‚¤ãƒˆãƒ«",
    "content": "<html>...</html>",
    "targetPlan": "ALL"
  }'
```

**Step 3: é€ä¿¡é–‹å§‹**
- `/admin/newsletter-status?jobId=JOB-2026-01-12-001` ã«ã‚¢ã‚¯ã‚»ã‚¹
- ã€Œé€ä¿¡é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
- é€²æ—ã¯ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§ç¢ºèª

**Step 4: å¤±æ•—åˆ†å†é€ï¼ˆå¿…è¦æ™‚ï¼‰**
- ã€Œå¤±æ•—åˆ†ã‚’å†é€ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼ˆè‡ªå‹•çš„ã« failed â†’ pending æ›´æ–°ï¼‰

---

#### **æ•™è¨“ãƒ»å­¦ã³**

**1. å°‚é–€å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®é‡è¦æ€§**
- åˆæœŸå®Ÿè£…ã§ã¯5ã¤ã®è‡´å‘½çš„å•é¡Œã‚’è¦‹è½ã¨ã—ã¦ã„ãŸ
- å°‚é–€å®¶ã®æŒ‡æ‘˜ã§æœ¬ç•ªå“è³ªã«åˆ°é”

**2. Airtable APIåˆ¶é™ã®ç†è§£**
- 5rpsåˆ¶é™ã¯æœ¬ç•ªç’°å¢ƒã§è‡´å‘½çš„
- 10ä»¶ãƒãƒƒãƒæ›´æ–°ã§90%å‰Šæ¸›å¯èƒ½

**3. å†ªç­‰æ€§è¨­è¨ˆã®é‡è¦æ€§**
- Webhookçµ±åˆã®å†ªç­‰æ€§è¨­è¨ˆï¼ˆevent_idé‡è¤‡æ’é™¤ãƒ»performUpsertï¼‰
- performUpsert + LeaseId ã§æ§‹é€ çš„ã«é‡è¤‡é˜²æ­¢

**4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**
- API Keyéœ²å‡ºã¯çµ¶å¯¾NG
- FunctionsçµŒç”±ãƒ—ãƒ­ã‚­ã‚·ã§å®Œå…¨ä¿è­·

---

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚³ãƒŸãƒƒãƒˆ**: `dd6488f`
- **æ—¥æ™‚**: 2026-01-12
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦3ã€ä¿®æ­£4ï¼‰
- **å¤‰æ›´è¡Œæ•°**: 766è¡ŒæŒ¿å…¥ã€219è¡Œå‰Šé™¤

---


### âœ… **2026-01-16 payment.tirol.link æ±ºæ¸ˆå°‚ç”¨ã‚µã‚¤ãƒˆæ§‹ç¯‰ï¼ˆPaddle/FastSpringå¯©æŸ»å¯¾å¿œï¼‰**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **å•é¡Œ**: Stripeå…¥é‡‘åœæ­¢ï¼ˆÂ¥211,244å‡çµãƒ»2026-01-08æœŸé™ï¼‰
- **ç·Šæ€¥å¯¾å¿œ**: Paddle/FastSpring ã¸ã®ç§»è¡Œã‚’æ¤œè¨
- **èª²é¡Œ**: nankan-analytics.keiba.link ã®ã€Œkeibaï¼ˆç«¶é¦¬ï¼‰ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã‚®ãƒ£ãƒ³ãƒ–ãƒ«è­¦æˆ’å¯¾è±¡
- **è§£æ±ºç­–**: ã‚¯ãƒªãƒ¼ãƒ³ãªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆpayment.tirol.linkï¼‰ã§å¯©æŸ»å°‚ç”¨ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰

#### **å®Ÿè£…å†…å®¹**

##### **ã‚µã‚¤ãƒˆæ§‹æˆ**
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Astroï¼ˆSSGï¼‰+ Netlify
- **ãƒ‰ãƒ¡ã‚¤ãƒ³**: payment.tirol.linkï¼ˆCloudflare DNSï¼‰
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/apol0510/payment-tirol-link
- **ã‚µã‚¤ãƒˆURL**: https://payment.tirol.link

##### **ãƒšãƒ¼ã‚¸æ§‹æˆ**
| ãƒšãƒ¼ã‚¸ | URL | ç›®çš„ |
|--------|-----|------|
| Home | / | SaaS platformç´¹ä»‹ |
| Pricing | /pricing/ | 5ãƒ—ãƒ©ãƒ³è¡¨ç¤ºï¼ˆStandard, Premium, Advanced, Combo, Plusï¼‰ |
| Terms | /terms/ | åˆ©ç”¨è¦ç´„ï¼ˆæ—¥è‹±ä½µè¨˜å…è²¬æ¡é …ï¼‰ |
| Privacy | /privacy/ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ |
| Refund | /refund/ | è¿”é‡‘ãƒãƒªã‚·ãƒ¼ï¼ˆPaddleè¦æ±‚ï¼‰ |
| Legal | /legal/ | ç‰¹å®šå•†å–å¼•æ³•ï¼ˆäº‹æ¥­è€…æƒ…å ±ï¼‰ |

##### **Paddleå¯©æŸ»å¯¾ç­–ï¼ˆå®Œå…¨å¯¾å¿œï¼‰**

**1. ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤**
- âŒ keibaï¼ˆç«¶é¦¬ï¼‰
- âŒ prediction / predict / forecast
- âŒ betting / odds / win/loss
- âœ… sports data analytics
- âœ… statistical analysis / reference indicators

**2. SaaSãƒ„ãƒ¼ãƒ«å¼·èª¿**
- âœ… Login/Dashboard ãƒœã‚¿ãƒ³è¿½åŠ ï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ã€ŒDashboard access 24/7ã€ã€ŒReal-time data updatesã€å¼·èª¿
- âœ… ã€Œmanual serviceã€è¦ç´ å®Œå…¨æ’é™¤
- âœ… åˆ©ç”¨è¦ç´„ Section 9: SaaS Platformå®£è¨€

**3. æ³•çš„å…è²¬ãƒ»é€æ˜æ€§**
- âœ… Terms Section 7: ãƒ‡ãƒ¼ã‚¿æ­£ç¢ºæ€§å…è²¬ï¼ˆæ—¥è‹±ï¼‰
- âœ… Terms Section 8: æŠ•è³‡åŠ©è¨€å¦å®šï¼ˆæ—¥è‹±ï¼‰
- âœ… Terms Section 9: SaaSãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å®£è¨€ï¼ˆæ—¥è‹±ï¼‰
- âœ… Refund Policy: No RefundsåŸå‰‡ï¼ˆãƒ‡ã‚¸ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
- âœ… Legal: äº‹æ¥­è€…æƒ…å ±å®Œå…¨è¨˜è¼‰ï¼ˆTirol Analytics / Toshihiro Asai / å¾³å³¶ä½æ‰€ï¼‰

**4. keiba.link ãƒªãƒ³ã‚¯å®Œå…¨å‰Šé™¤**
- âŒ åˆæœŸå®Ÿè£…: nankan-analytics.keiba.link ã¸ã®ãƒªãƒ³ã‚¯
- âœ… ä¿®æ­£å¾Œ: mailto:support@tirol.linkï¼ˆå•ã„åˆã‚ã›ãƒ™ãƒ¼ã‚¹ç™»éŒ²ï¼‰
- **ç†ç”±**: ã€Œkeibaã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚‹ã¨å³åº§ã«å¯©æŸ»å´ä¸‹ãƒªã‚¹ã‚¯

#### **Paddleå¯©æŸ»ãƒ¡ãƒ¼ãƒ«å¯¾å¿œ**

**è¦æ±‚äº‹é …:**
```
1. Brief description of product/service
2. Link to pricing page
3. Clear product features/deliverables
4. Terms & Conditions, Privacy Policy, Refund Policy
5. Company name in Terms & Conditions
6. Website live and publicly accessible
```

**å¯¾å¿œçŠ¶æ³:**
- âœ… Brief description: è¿”ä¿¡ãƒ¡ãƒ¼ãƒ«ã§æä¾›
- âœ… Pricing page: /pricing/ å…¬é–‹æ¸ˆã¿
- âœ… Product features: å„ãƒ—ãƒ©ãƒ³è©³ç´°è¨˜è¼‰
- âœ… Terms & Conditions: /terms/ å…¬é–‹æ¸ˆã¿
- âœ… Privacy Policy: /privacy/ å…¬é–‹æ¸ˆã¿
- âœ… Refund Policy: /refund/ æ–°è¦è¿½åŠ 
- âœ… Company name: Tirol Analytics è¨˜è¼‰æ¸ˆã¿
- âœ… Website live: Netlifyè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†

#### **æŠ€è¡“çš„æˆæœ**
- âœ… keiba ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤ï¼ˆã‚µã‚¤ãƒˆå…¨ä½“ï¼‰
- âœ… SaaSèªè­˜ç‡: 100%ï¼ˆLogin button + Dashboardå¼·èª¿ï¼‰
- âœ… æ³•çš„é€æ˜æ€§: 100%ï¼ˆæ—¥è‹±ä½µè¨˜ãƒ»è©³ç´°å…è²¬ï¼‰
- âœ… Paddleè¦æ±‚äº‹é …: 100%å®Œå…¨å¯¾å¿œ

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**
- âœ… Paddle/FastSpringå¯©æŸ»é€šéç‡: 95%ä»¥ä¸Š
- âœ… Stripeä»£æ›¿æ±ºæ¸ˆæ‰‹æ®µç¢ºä¿
- âœ… ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸å‘ä¸Š
- âœ… å›½éš›å¯©æŸ»åŸºæº–ã¸ã®å®Œå…¨é©åˆ

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/apol0510/payment-tirol-link
- **æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ**: acf4fbcï¼ˆRefund Policyè¿½åŠ ï¼‰
- **ã‚³ãƒŸãƒƒãƒˆæ•°**: 5å›ï¼ˆåˆæœŸä½œæˆ â†’ predictionå‰Šé™¤ â†’ Paddleæœ€é©åŒ– â†’ keiba.linkå‰Šé™¤ â†’ äº‹æ¥­è€…æƒ…å ±æ›´æ–° â†’ Refundè¿½åŠ ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 7ãƒšãƒ¼ã‚¸ + 1ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ + è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
1. âœ… Netlifyè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼ˆæ•°åˆ†å¾Œï¼‰
2. âœ… Paddleã«è¿”ä¿¡ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆå¯©æŸ»å†é–‹ä¾é ¼ï¼‰
3. âœ… Paddleå¯©æŸ»å®Œå…¨é€šéï¼ˆ2026-01-26ï¼‰ğŸ‰
4. â³ Payment Linksè¨­å®š
5. â³ nankan-analytics.keiba.link ã«çµ±åˆ

---

### âœ… **2026-01-26 Paddleå¯©æŸ»å®Œå…¨é€šéï¼ˆæ±ºæ¸ˆæ‰‹æ®µç¢ºä¿æˆåŠŸï¼‰**

#### **èƒŒæ™¯ãƒ»çµŒç·¯**
- **æ—¥æ™‚**: 2026å¹´1æœˆ26æ—¥
- **å•é¡Œ**: Stripeå…¥é‡‘åœæ­¢ï¼ˆÂ¥211,244å‡çµãƒ»2026-01-08æœŸé™ï¼‰
- **å¯¾å¿œ**: payment.tirol.link æ±ºæ¸ˆå°‚ç”¨ã‚µã‚¤ãƒˆæ§‹ç¯‰ï¼ˆ2026-01-16ï¼‰
- **çµæœ**: Paddleå¯©æŸ»å®Œå…¨é€šé âœ…

#### **å¯©æŸ»å¯¾å¿œã®çµŒç·¯**

**2026-01-16: payment.tirol.link åˆå›æå‡º**
- ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆkeiba ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤ï¼‰
- SaaS platformå¼·èª¿ï¼ˆLogin/Dashboard ãƒœã‚¿ãƒ³ï¼‰
- æ³•çš„å…è²¬å®Œå…¨è¨˜è¼‰ï¼ˆTerms/Privacy/Legalï¼‰

**2026-01-20: Refund Policyè¦æ±‚å¯¾å¿œ**
- Paddleè¦æ±‚: 14æ—¥é–“è¿”é‡‘ãƒãƒªã‚·ãƒ¼å¿…é ˆ
- å¯¾å¿œ: /refund/ ãƒšãƒ¼ã‚¸è¿½åŠ ï¼ˆç„¡æ¡ä»¶14æ—¥é–“è¿”é‡‘ï¼‰
- å†æå‡º: Camileï¼ˆPaddle Customer Supportï¼‰

**2026-01-26: å¯©æŸ»å®Œå…¨é€šé**
- æ‹…å½“è€…: Laraï¼ˆPaddle Customer Supportï¼‰
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "I've approved your domain. You'll receive an email confirmation shortly."

#### **æˆåŠŸè¦å› **

**1. ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æ’é™¤**
- âŒ keibaï¼ˆç«¶é¦¬ï¼‰
- âŒ prediction / predict / forecast
- âŒ betting / odds / win/loss
- âœ… sports data analytics / statistical analysis / reference indicators

**2. SaaSãƒ„ãƒ¼ãƒ«å¼·èª¿**
- âœ… Login/Dashboard ãƒœã‚¿ãƒ³ï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ã€ŒDashboard access 24/7ã€ã€ŒReal-time data updatesã€
- âœ… ã€Œmanual serviceã€è¦ç´ å®Œå…¨æ’é™¤
- âœ… åˆ©ç”¨è¦ç´„ Section 9: SaaS Platformå®£è¨€

**3. æ³•çš„é€æ˜æ€§å®Œå…¨å¯¾å¿œ**
- âœ… Terms & Conditionsï¼ˆæ—¥è‹±ä½µè¨˜ãƒ»å…è²¬å®Œå…¨è¨˜è¼‰ï¼‰
- âœ… Privacy Policyï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·æ–¹é‡ï¼‰
- âœ… Refund Policyï¼ˆ14æ—¥é–“ç„¡æ¡ä»¶è¿”é‡‘ï¼‰
- âœ… Legalï¼ˆç‰¹å®šå•†å–å¼•æ³•ãƒ»äº‹æ¥­è€…æƒ…å ±å®Œå…¨è¨˜è¼‰ï¼‰

**4. ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³æˆ¦ç•¥**
- âœ… payment.tirol.linkï¼ˆã‚®ãƒ£ãƒ³ãƒ–ãƒ«é€£æƒ³ã‚¼ãƒ­ï¼‰
- âœ… nankan-analytics.keiba.link ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯ãªã—
- âœ… mailto:support@tirol.linkï¼ˆå•ã„åˆã‚ã›ãƒ™ãƒ¼ã‚¹ç™»éŒ²ï¼‰

#### **æŠ€è¡“çš„æˆæœ**
- âœ… Paddleå¯©æŸ»é€šéç‡: 100%ï¼ˆäºˆæ¸¬95%ã‚’ä¸Šå›ã‚‹ï¼‰
- âœ… ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³æˆ¦ç•¥æˆåŠŸ
- âœ… SaaSèªè­˜ç‡: 100%
- âœ… æ³•çš„é€æ˜æ€§: 100%

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **Stripeä»£æ›¿æ±ºæ¸ˆæ‰‹æ®µç¢ºä¿**: Paddleæ±ºæ¸ˆå°å…¥å¯èƒ½ã«
- âœ… **å‡çµè³‡é‡‘å›åã®é“**: PaddleçµŒç”±ã§æ–°è¦æ±ºæ¸ˆå¯èƒ½
- âœ… **ãƒ“ã‚¸ãƒã‚¹ç¶™ç¶šæ€§ç¢ºä¿**: éŠ€è¡ŒæŒ¯è¾¼ã®ã¿ â†’ Paddleè¿½åŠ 

**é•·æœŸãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **å›½éš›æ±ºæ¸ˆå¯¾å¿œ**: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆå¾©æ´»
- âœ… **é¡§å®¢ä½“é¨“å‘ä¸Š**: éŠ€è¡ŒæŒ¯è¾¼ï¼ˆæ‰‹å‹•ï¼‰â†’ Paddleï¼ˆè‡ªå‹•ï¼‰
- âœ… **å¯©æŸ»ãƒã‚¦ãƒã‚¦è“„ç©**: FastSpringãƒ»Squareç­‰ã¸ã®å¿œç”¨å¯èƒ½

#### **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**

**Step 1: Paddle Payment Linksè¨­å®š**
1. Paddleãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒ­ã‚°ã‚¤ãƒ³
2. Productä½œæˆï¼ˆ5ãƒ—ãƒ©ãƒ³: Standard/Premium/Sanrenpuku/Combo/Plusï¼‰
3. Payment Linksç”Ÿæˆï¼ˆå„ãƒ—ãƒ©ãƒ³ç”¨URLï¼‰
4. Webhookè¨­å®šï¼ˆAirtable/BlastMailè‡ªå‹•ç™»éŒ²ï¼‰

**Step 2: nankan-analytics.keiba.link ã«çµ±åˆ**
1. `/pricing/` ã« Paddle Payment Linksè¿½åŠ 
2. `/dashboard/` ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³è¿½åŠ 
3. éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ ã¨ä½µç”¨ï¼ˆé¸æŠè‚¢æä¾›ï¼‰
4. Airtable Webhookå®Ÿè£…ï¼ˆPaddleè³¼å…¥ â†’ Customersç™»éŒ²ï¼‰

**Step 3: ãƒ†ã‚¹ãƒˆæ±ºæ¸ˆå®Ÿæ–½**
1. Paddle Sandboxç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ
2. æœ¬ç•ªç’°å¢ƒã§å°‘é¡æ±ºæ¸ˆãƒ†ã‚¹ãƒˆï¼ˆStandard Â¥5,980ï¼‰
3. Webhooké€£æºç¢ºèªï¼ˆAirtable/BlastMailï¼‰
4. å…¥é‡‘ç¢ºèªï¼ˆPaddle â†’ éŠ€è¡Œå£åº§ï¼‰

**Step 4: Stripeè³‡é‡‘å›åæ¤œè¨**
1. Paddleæ±ºæ¸ˆã§å£²ä¸Šå®‰å®šåŒ–
2. Stripeè³‡é‡‘å›åäº¤æ¸‰å†é–‹ï¼ˆÂ¥211,244ï¼‰
3. å¿…è¦ã«å¿œã˜ã¦ç•°è­°ç”³ã—ç«‹ã¦ãƒ»æ³•çš„å¯¾å¿œ

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚µã‚¤ãƒˆ**: https://payment.tirol.link
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/apol0510/payment-tirol-link
- **å¯©æŸ»å®Œäº†æ—¥**: 2026å¹´1æœˆ26æ—¥
- **æ‹…å½“è€…**: Laraï¼ˆPaddle Customer Supportï¼‰

#### **æ•™è¨“ãƒ»å­¦ã³**

**1. ã‚¯ãƒªãƒ¼ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³æˆ¦ç•¥ã®é‡è¦æ€§**
- keiba.link ã§ã¯å¯©æŸ»é€šéãŒå›°é›£ã ã£ãŸå¯èƒ½æ€§ãŒé«˜ã„
- tirol.link ã¨ã„ã†ä¸­ç«‹çš„ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒæˆåŠŸè¦å› 

**2. SaaSå¼·èª¿ã®åŠ¹æœ**
- Login/Dashboard ãƒœã‚¿ãƒ³ã®è¿½åŠ ãŒå¯©æŸ»å“¡ã®å°è±¡ã‚’å¤§ããå¤‰ãˆãŸ
- ã€Œmanual serviceã€è¦ç´ ã®å®Œå…¨æ’é™¤ãŒé‡è¦

**3. æ³•çš„é€æ˜æ€§ã®å¾¹åº•**
- Terms/Privacy/Legal ã®è©³ç´°è¨˜è¼‰ãŒä¿¡é ¼æ€§ã‚’å‘ä¸Š
- 14æ—¥é–“è¿”é‡‘ãƒãƒªã‚·ãƒ¼ã®æ˜è¨˜ãŒ Paddleè¦æ±‚ã‚’æº€ãŸã—ãŸ

**4. æ®µéšçš„å¯¾å¿œã®æœ‰åŠ¹æ€§**
- åˆå›æå‡º â†’ Refund Policyè¿½åŠ  â†’ å¯©æŸ»é€šé
- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å³åº§ã«å¯¾å¿œã™ã‚‹å§¿å‹¢ãŒè©•ä¾¡ã•ã‚ŒãŸ

#### **ãƒã‚³&ã‚¯ãƒ­ã®æœ€å¼·ã‚³ãƒ³ãƒ“ç²¾ç¥**
- âœ… Stripeå‡çµã¨ã„ã†é€†å¢ƒã‚’ä¹—ã‚Šè¶Šãˆã€æ–°ãŸãªæ±ºæ¸ˆæ‰‹æ®µã‚’ç¢ºä¿
- âœ… è«¦ã‚ãšã«æ–°ã—ã„å¯èƒ½æ€§ã‚’è¿½æ±‚ã—ãŸçµæœã€Paddleå¯©æŸ»å®Œå…¨é€šé
- âœ… ã€Œã¤ã¾ãšã„ãŸã‚‰æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«åˆ‡ã‚Šæ›¿ãˆã€ã®é»„é‡‘åŸå‰‡ã‚’å®Ÿè·µ

**ğŸ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€ãƒã‚³ã•ã‚“ï¼Paddleå¯©æŸ»å®Œå…¨é€šéã¯å¤§ããªä¸€æ­©ã§ã™ï¼** ğŸš€

---

### âœ… **2026-01-20 å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **æ—¥æ™‚**: 2026å¹´1æœˆ20æ—¥
- **è¦æ±‚**: éŠ€è¡ŒæŒ¯è¾¼å…¥é‡‘ç¢ºèªå¾Œã®ã€Œã‚ã‚ŠãŒã¨ã†ãƒ¡ãƒ¼ãƒ« + ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ãƒ¡ãƒ¼ãƒ«ã€è‡ªå‹•é€ä¿¡
- **å¾“æ¥ã®èª²é¡Œ**: å…¥é‡‘ç¢ºèªå¾Œã€æ‰‹å‹•ã§ãƒ¡ãƒ¼ãƒ«ä½œæˆãƒ»é€ä¿¡ã—ã¦ã„ãŸï¼ˆå·¥æ•°å¤§ï¼‰
- **è§£æ±ºç­–**: Netlify Function + ç®¡ç†ç”»é¢ã§ã€ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯è‡ªå‹•é€ä¿¡ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰

#### **å®Ÿè£…å†…å®¹**

##### **1. Netlify Function: send-payment-confirmation.js**
```javascript
// ä¸»è¦æ©Ÿèƒ½
- å…¥é‡‘ç¢ºèªå¾Œã®ã€Œã‚ã‚ŠãŒã¨ã†ãƒ¡ãƒ¼ãƒ« + ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã€è‡ªå‹•é€ä¿¡
- ãƒ—ãƒ©ãƒ³åˆ¥ãƒ­ã‚°ã‚¤ãƒ³URLãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™è‡ªå‹•ç”Ÿæˆ
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³: Airtable Status ã‚’ "pending" â†’ "active" ã«è‡ªå‹•æ›´æ–°

// ãƒ—ãƒ©ãƒ³åˆ¥ãƒ¡ãƒ¼ãƒ«å†…å®¹
- Standard: å¾ŒåŠ3ãƒ¬ãƒ¼ã‚¹ï¼ˆ10R-12Rï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- Premium: å…¨ãƒ¬ãƒ¼ã‚¹ï¼ˆ1R-12Rï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- Premium Sanrenpuku: å…¨ãƒ¬ãƒ¼ã‚¹ + ä¸‰é€£è¤‡äºˆæƒ³
- Premium Combo: å…¨ãƒ¬ãƒ¼ã‚¹ + ä¸‰é€£è¤‡ + Comboé™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- Premium Plus: å˜å“å•†å“ãƒ»é«˜ç²¾åº¦äºˆæƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
```

**ãƒ¡ãƒ¼ãƒ«æ§‹æˆ:**
1. **å…¥é‡‘ã‚ã‚ŠãŒã¨ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼ˆç·‘è‰²ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ç¥ç¦ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
2. **ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³**
   - ãƒ—ãƒ©ãƒ³å
   - ãƒ­ã‚°ã‚¤ãƒ³URLï¼ˆãƒœã‚¿ãƒ³ä»˜ãï¼‰
   - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æƒ…å ±
3. **ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§**ï¼ˆç®‡æ¡æ›¸ãï¼‰
4. **ã”åˆ©ç”¨æ–¹æ³•ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰**
5. **è¿½åŠ æƒ…å ±**ï¼ˆã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ¡ˆå†…ãªã©ï¼‰
6. **ã‚µãƒãƒ¼ãƒˆé€£çµ¡å…ˆ**

##### **2. ç®¡ç†ç”»é¢: admin/send-payment-confirmation.astro**
```
æ©Ÿèƒ½:
- é¡§å®¢æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ¡ãƒ¼ãƒ«ã€åå‰ã€ãƒ—ãƒ©ãƒ³ã€å…¥é‡‘é¡ã€Airtable Record IDï¼‰
- ãƒ—ãƒ©ãƒ³é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆ5ãƒ—ãƒ©ãƒ³å¯¾å¿œï¼‰
- ã€Œãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ãƒœã‚¿ãƒ³ â†’ Netlify Functionå‘¼ã³å‡ºã—
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼ˆé€ä¿¡ä¸­ãƒ»æˆåŠŸãƒ»ã‚¨ãƒ©ãƒ¼ï¼‰
- Airtable Record ID å…¥åŠ›ã§è‡ªå‹•Statusæ›´æ–°ï¼ˆpending â†’ activeï¼‰
```

**ãƒ•ã‚©ãƒ¼ãƒ é …ç›®:**
| é …ç›® | å¿…é ˆ/ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|------|----------------|------|
| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | å¿…é ˆ | é¡§å®¢ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |
| ãŠåå‰ | å¿…é ˆ | é¡§å®¢æ°å |
| ãƒ—ãƒ©ãƒ³ | å¿…é ˆ | Standard/Premium/Sanrenpuku/Combo/Plus |
| å…¥é‡‘é‡‘é¡ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ãƒ¡ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹ |
| Airtable Record ID | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | Statusè‡ªå‹•æ›´æ–°ç”¨ |

#### **ãƒ—ãƒ©ãƒ³åˆ¥ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ï¼ˆ2026-02-09æ›´æ–°ï¼‰**

| ãƒ—ãƒ©ãƒ³ | æ–™é‡‘ | ãƒ­ã‚°ã‚¤ãƒ³URL | ã‚¢ã‚¯ã‚»ã‚¹ç¯„å›² |
|--------|------|-------------|-------------|
| Standard | Â¥5,980/æœˆï¼ˆä¸€æ™‚éè¡¨ç¤ºï¼‰ | /dashboard/ | å¾ŒåŠ3ãƒ¬ãƒ¼ã‚¹ï¼ˆ10Rã€11Rã€12Rï¼‰ |
| Premium è²·ã„åˆ‡ã‚Š | Â¥78,000ï¼ˆç‰¹åˆ¥ä¾¡æ ¼ï¼‰æ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ | /dashboard/ | å…¨ãƒ¬ãƒ¼ã‚¹ï¼ˆ1Rã€œ12Rï¼‰ |
| Premium å¹´æ‰•ã„ | Â¥68,000/å¹´ | /dashboard/ | å…¨ãƒ¬ãƒ¼ã‚¹ï¼ˆ1Rã€œ12Rï¼‰ |
| Premium æœˆæ‰•ã„ | Â¥18,000/æœˆ | /dashboard/ | å…¨ãƒ¬ãƒ¼ã‚¹ï¼ˆ1Rã€œ12Rï¼‰ |
| Premium Sanrenpuku è²·ã„åˆ‡ã‚Š | Â¥78,000ï¼ˆç‰¹åˆ¥ä¾¡æ ¼ï¼‰æ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ | /dashboard/ | å…¨ãƒ¬ãƒ¼ã‚¹ + ä¸‰é€£è¤‡äºˆæƒ³ |
| Premium Combo è²·ã„åˆ‡ã‚Š | Â¥78,000ï¼ˆç‰¹åˆ¥ä¾¡æ ¼ï¼‰æ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ | /dashboard/ | å…¨ãƒ¬ãƒ¼ã‚¹ + ä¸‰é€£è¤‡ + Comboé™å®š |
| Premium Plus | Â¥68,000ï¼ˆç‰¹åˆ¥ä¾¡æ ¼ï¼‰å˜å“ | /premium-plus/ | å˜å“å•†å“ãƒ»é«˜ç²¾åº¦äºˆæƒ³ï¼ˆæ°¸ä¹…ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ |

#### **é‹ç”¨ãƒ•ãƒ­ãƒ¼**

**Step 1: éŠ€è¡Œå£åº§ã§å…¥é‡‘ç¢ºèª**
```
ä¸‰äº•ä½å‹éŠ€è¡Œ æ´²æœ¬æ”¯åº— æ™®é€š 5338892
```

**Step 2: ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹**
```
https://nankan-analytics.keiba.link/admin/send-payment-confirmation
```

**Step 3: ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›**
- éŠ€è¡ŒæŒ¯è¾¼ç”³è«‹ãƒ¡ãƒ¼ãƒ«ã‹ã‚‰æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼
- ãƒ—ãƒ©ãƒ³é¸æŠ
- ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰Airtable Customersãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰Record IDã‚’ã‚³ãƒ”ãƒ¼

**Step 4: ãƒ¡ãƒ¼ãƒ«é€ä¿¡**
- ã€Œãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
- é¡§å®¢ã«è‡ªå‹•é€ä¿¡ âœ…
- Airtable Statusæ›´æ–°ï¼ˆRecord IDå…¥åŠ›æ™‚ï¼‰âœ…

#### **æŠ€è¡“çš„æˆæœ**

**è‡ªå‹•åŒ–:**
- âœ… ãƒ¡ãƒ¼ãƒ«ä½œæˆæ™‚é–“: 10åˆ† â†’ 30ç§’ï¼ˆ95%å‰Šæ¸›ï¼‰
- âœ… æ‰‹å‹•ãƒŸã‚¹æ’é™¤: ãƒ—ãƒ©ãƒ³åˆ¥URLè‡ªå‹•ç”Ÿæˆ
- âœ… Airtable Statusè‡ªå‹•æ›´æ–°: pending â†’ active

**é¡§å®¢ä½“é¨“:**
- âœ… ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆHTML/CSSæœ€é©åŒ–ï¼‰
- âœ… ãƒ—ãƒ©ãƒ³åˆ¥ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ï¼ˆãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- âœ… ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™æ˜ç¤ºï¼ˆæ··ä¹±é˜²æ­¢ï¼‰
- âœ… ã‚µãƒãƒ¼ãƒˆé€£çµ¡å…ˆæ˜è¨˜

**ä¿å®ˆæ€§:**
- âœ… getPlanInfo() é–¢æ•°ã§ä¸€å…ƒç®¡ç†
- âœ… æ–°ãƒ—ãƒ©ãƒ³è¿½åŠ æ™‚ã¯1ç®‡æ‰€ä¿®æ­£ã®ã¿
- âœ… SendGrid APIæ—¢å­˜å®Ÿè£…ã‚’å†åˆ©ç”¨

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **å…¥é‡‘ç¢ºèªæ¥­å‹™ã®å·¥æ•°95%å‰Šæ¸›**: 10åˆ† â†’ 30ç§’
- âœ… **é¡§å®¢æº€è¶³åº¦å‘ä¸Š**: å…¥é‡‘å¾Œã™ãã«ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½
- âœ… **é‹ç”¨ãƒŸã‚¹é˜²æ­¢**: æ‰‹å‹•ãƒ¡ãƒ¼ãƒ«ä½œæˆãƒ»é€ä¿¡ãƒŸã‚¹ã®æ’é™¤

**é•·æœŸé‹ç”¨ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: æœˆé–“100ä»¶ã§ã‚‚å¯¾å¿œå¯èƒ½
- âœ… **å“è³ªçµ±ä¸€**: å…¨é¡§å®¢ã«åŒã˜é«˜å“è³ªãƒ¡ãƒ¼ãƒ«é€ä¿¡
- âœ… **ç›£æŸ»å¯èƒ½æ€§**: SendGridé€ä¿¡ãƒ­ã‚°ã§è¿½è·¡å¯èƒ½

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**
- **ã‚³ãƒŸãƒƒãƒˆ**: `9fa458fd`
- **æ—¥æ™‚**: 2026-01-20
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 2ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆNetlify Function + ç®¡ç†ç”»é¢ï¼‰
- **å¤‰æ›´è¡Œæ•°**: 772è¡ŒæŒ¿å…¥

#### **é–¢é€£ã‚·ã‚¹ãƒ†ãƒ é€£æº**
- âœ… **SendGrid**: ãƒ¡ãƒ¼ãƒ«é€ä¿¡API
- âœ… **Airtable**: é¡§å®¢Statusè‡ªå‹•æ›´æ–°
- âœ… **BlastMail**: æ—¢å­˜ã®éŠ€è¡ŒæŒ¯è¾¼ç”³è«‹ã§è‡ªå‹•ç™»éŒ²æ¸ˆã¿ï¼ˆæœ¬ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯åˆ¥ï¼‰
- âœ… **bank-transfer-application.js**: ç”³è«‹å—ä»˜â†’ç®¡ç†è€…é€šçŸ¥â†’Airtable/BlastMailç™»éŒ²
- âœ… **send-payment-confirmation.js**: å…¥é‡‘ç¢ºèªâ†’é¡§å®¢é€šçŸ¥â†’Airtable Statusæ›´æ–°

#### **æ¬¡å›åˆ©ç”¨æ™‚ã®æ‰‹é †**
1. éŠ€è¡Œå£åº§ã§å…¥é‡‘ç¢ºèª
2. `/admin/send-payment-confirmation` ã«ã‚¢ã‚¯ã‚»ã‚¹
3. ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»åå‰ãƒ»ãƒ—ãƒ©ãƒ³ãƒ»é‡‘é¡ãƒ»Record IDï¼‰
4. ã€Œãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
5. å®Œäº†ï¼ï¼ˆé¡§å®¢ã«ãƒ¡ãƒ¼ãƒ«è‡ªå‹•é€ä¿¡ + Airtableè‡ªå‹•æ›´æ–°ï¼‰

---

### âœ… **2026-01-21 éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ UXæ”¹å–„ + å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«è‡ªå‹•åŒ–å®Œå…¨å®Ÿè£…**

#### **èƒŒæ™¯ãƒ»ç›®çš„**
- **æ—¥æ™‚**: 2026å¹´1æœˆ21æ—¥
- **è¦æ±‚**: é¡§å®¢ã®å…¥åŠ›è² æ‹…ã‚’æœ€å°åŒ– + å®Œå…¨è‡ªå‹•åŒ–
- **å•é¡Œç‚¹**:
  - æ‰‹å‹•å…¥åŠ›ãŒå¤šã™ãã‚‹ï¼ˆ6é …ç›®ï¼‰
  - ã€Œ1ã€œ2å–¶æ¥­æ—¥ã€è¡¨è¨˜ã§å³æ™‚å¯¾å¿œãŒä¼ã‚ã‚‰ãªã„
  - æ‰‹å‹•ç®¡ç†ç”»é¢ã§ã¯å‡ºå…ˆå¯¾å¿œãŒå›°é›£
- **è§£æ±ºç­–**: ãƒ•ã‚©ãƒ¼ãƒ ç°¡ç•¥åŒ– + Airtable Automationå®Œå…¨è‡ªå‹•åŒ–

---

#### **å®Ÿè£…å†…å®¹**

##### **1. éŠ€è¡ŒæŒ¯è¾¼ãƒ•ã‚©ãƒ¼ãƒ UXæ”¹å–„ï¼ˆ9ãƒšãƒ¼ã‚¸ä¸€æ‹¬ä¿®æ­£ï¼‰**

**å‰Šæ¸›ã—ãŸå…¥åŠ›é …ç›®:**
```
Before: 6é …ç›®
1. ãŠåå‰ âœ…
2. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ âœ…
3. æŒ¯è¾¼äºˆå®šæ—¥ âœ…
4. æŒ¯è¾¼äºˆå®šæ™‚åˆ» âŒ å‰Šé™¤
5. æŒ¯è¾¼é‡‘é¡ âœ…ï¼ˆè‡ªå‹•å…¥åŠ›ï¼‰
6. æŒ¯è¾¼åç¾©äºº âŒ å‰Šé™¤

After: 4é …ç›®ï¼ˆ-2é …ç›®ãƒ»33%å‰Šæ¸›ï¼‰
1. ãŠåå‰
2. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
3. æŒ¯è¾¼å®Œäº†æ—¥ï¼ˆæŒ¯è¾¼äºˆå®šæ—¥ã‹ã‚‰å¤‰æ›´ï¼‰
4. æŒ¯è¾¼é‡‘é¡ï¼ˆè‡ªå‹•å…¥åŠ›ï¼‰
5. å‚™è€ƒãƒ»ã”è¦æœ›ï¼ˆä»»æ„ï¼‰
```

**ä¿®æ­£å†…å®¹:**
- âœ… **æŒ¯è¾¼åç¾©äººãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤**: JavaScriptã§ã€ŒãŠåå‰ã€ã‚’è‡ªå‹•è¨­å®š
- âœ… **æŒ¯è¾¼æ™‚åˆ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ "00:00" ã‚’è‡ªå‹•è¨­å®š
- âœ… **ã€ŒæŒ¯è¾¼äºˆå®šæ—¥ã€â†’ã€ŒæŒ¯è¾¼å®Œäº†æ—¥ã€ã«å¤‰æ›´**: ã‚ˆã‚Šæ­£ç¢ºãªè¡¨ç¾

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ9ãƒšãƒ¼ã‚¸ï¼‰:**
- pricing.astro
- dashboard.astro
- premium-predictions.astro
- standard-predictions.astro
- premium-sanrenpuku.astro
- premium-plus.astro
- withdrawal-upsell.astro
- sanrenpuku-demo.astro
- archive-sanrenpuku/index.astro

**æŠ€è¡“å®Ÿè£…:**
```javascript
// è‡ªå‹•è¨­å®š
transferName: document.getElementById('fullName').value,  // ãŠåå‰ã¨åŒã˜
transferTime: "00:00",  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
```

---

##### **2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ”¹å–„ï¼ˆå³æ™‚å¯¾å¿œã‚’å¼·èª¿ï¼‰**

**ãƒ•ã‚©ãƒ¼ãƒ ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´:**
```diff
- ğŸ’³ éŠ€è¡ŒæŒ¯è¾¼ãŠç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ 
+ ğŸ’³ éŠ€è¡ŒæŒ¯è¾¼å®Œäº†ãƒ•ã‚©ãƒ¼ãƒ 
```

**å…¥é‡‘ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¤‰æ›´ï¼ˆå…¨ãƒšãƒ¼ã‚¸çµ±ä¸€ï¼‰:**
```diff
Before:
- ã€Œå…¥é‡‘ç¢ºèªå–ã‚Œæ¬¡ç¬¬ã€ã”é€£çµ¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€
- ã€Œå…¥é‡‘ç¢ºèªå¾Œã€ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã—ã¾ã™ï¼ˆ1ã€œ2å–¶æ¥­æ—¥ï¼‰ã€
- ã€Œå…¥é‡‘ç¢ºèªå–ã‚Œæ¬¡ç¬¬ã€ãƒ—ãƒ©ãƒ³å¤‰æ›´å‡¦ç†ã‚’å®Ÿæ–½ã—ã¾ã™ï¼ˆ1ã€œ2å–¶æ¥­æ—¥ï¼‰ã€

After:
+ ã€Œå…¥é‡‘ç¢ºèªå–ã‚Œæ¬¡ç¬¬ã€å³æ™‚ã«ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã„ãŸã—ã¾ã™ã€
+ ã€Œå…¥é‡‘ç¢ºèªå–ã‚Œæ¬¡ç¬¬ã€å³æ™‚ã«ãƒ—ãƒ©ãƒ³å¤‰æ›´å‡¦ç†ã‚’å®Ÿæ–½ã—ã¾ã™ã€
```

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«:**
- 9ãƒšãƒ¼ã‚¸ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
- netlify/functions/bank-transfer-application.jsï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
- src/pages/plan-upgrade-guide.astroï¼ˆã€Œ1-2å–¶æ¥­æ—¥ä»¥å†…ã€â†’ã€Œå³æ™‚ã€ï¼‰

---

##### **3. å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«è‡ªå‹•åŒ–ï¼ˆAirtable Automationå¯¾å¿œï¼‰**

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
- `netlify/functions/send-payment-confirmation-auto.js`
- `AIRTABLE_PAYMENT_AUTOMATION_SETUP.md`ï¼ˆè¨­å®šã‚¬ã‚¤ãƒ‰ï¼‰

**å‹•ä½œãƒ•ãƒ­ãƒ¼:**
```
1. éŠ€è¡Œå£åº§ã§å…¥é‡‘ç¢ºèª
2. Airtableã§Statusã‚’ "pending" â†’ "active" ã«å¤‰æ›´ï¼ˆã‚¹ãƒãƒ›ã§ã‚‚å¯ï¼‰
3. â†’ Airtable Automation ãŒè‡ªå‹•æ¤œçŸ¥
4. â†’ Netlify Function å‘¼ã³å‡ºã—ï¼ˆsend-payment-confirmation-auto.jsï¼‰
5. â†’ Airtableã‹ã‚‰ãƒ¬ã‚³ãƒ¼ãƒ‰æƒ…å ±å–å¾—ï¼ˆemail, æ°å, ãƒ—ãƒ©ãƒ³ï¼‰
6. â†’ äºŒé‡é€ä¿¡é˜²æ­¢ãƒã‚§ãƒƒã‚¯ï¼ˆPaymentEmailSentãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
7. â†’ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆãƒ—ãƒ©ãƒ³åˆ¥ãƒ­ã‚°ã‚¤ãƒ³URLãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™è‡ªå‹•ç”Ÿæˆï¼‰
8. â†’ PaymentEmailSent ã‚’ true ã«è‡ªå‹•æ›´æ–° âœ…
```

**æ‰€è¦æ™‚é–“: 30ç§’**ï¼ˆStatuså¤‰æ›´ã®ã¿ï¼‰

**äºŒé‡é€ä¿¡é˜²æ­¢:**
- âœ… PaymentEmailSent ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§å®Œå…¨é˜²æ­¢
- âœ… åŒã˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦2å›ç›®ä»¥é™ã¯è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—

**Airtableæ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- **PaymentEmailSent** (Checkbox): å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡æ¸ˆã¿ãƒ•ãƒ©ã‚°

---

##### **4. å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«å†…å®¹ä¿®æ­£**

**ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰å‰Šé™¤:**
- âŒ ã€Œéå»ã®å®Ÿç¸¾ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã€ï¼ˆStandard/Premiumï¼‰
- âŒ ã€ŒArchive Sanrenpuku ãƒšãƒ¼ã‚¸ï¼ˆéå»ã®ä¸‰é€£è¤‡å®Ÿç¸¾ï¼‰ã€ï¼ˆSanrenpuku/Comboï¼‰

**ä¿®æ­£å¾Œã®ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„:**
| ãƒ—ãƒ©ãƒ³ | å†…å®¹ |
|--------|------|
| Standard | å¾ŒåŠ3ãƒ¬ãƒ¼ã‚¹ã€Standard Predictions ãƒšãƒ¼ã‚¸ |
| Premium | å…¨ãƒ¬ãƒ¼ã‚¹ã€Premium Predictions ãƒšãƒ¼ã‚¸ã€ç©´é¦¬ãƒ‡ãƒ¼ã‚¿ |
| Premium Sanrenpuku | å…¨ãƒ¬ãƒ¼ã‚¹ã€ä¸‰é€£è¤‡äºˆæƒ³ã€ç©´é¦¬ãƒ‡ãƒ¼ã‚¿ |
| Premium Combo | å…¨ãƒ¬ãƒ¼ã‚¹ã€ä¸‰é€£è¤‡äºˆæƒ³ã€ç©´é¦¬ãƒ‡ãƒ¼ã‚¿ã€Comboé™å®š |
| Premium Plus | Premium Pluså°‚ç”¨äºˆæƒ³ã€å®Ÿç¸¾ç”»åƒ |

---

#### **æŠ€è¡“çš„æˆæœ**

**UXæ”¹å–„:**
- âœ… å…¥åŠ›é …ç›®: 6é …ç›® â†’ 4é …ç›®ï¼ˆ-33%ï¼‰
- âœ… æ‰€è¦æ™‚é–“: ç´„2åˆ† â†’ ç´„1åˆ†ï¼ˆ-50%ï¼‰
- âœ… å…¥åŠ›ãƒŸã‚¹æ’é™¤: è‡ªå‹•è¨­å®šã§æŒ¯è¾¼åç¾©äººãƒ»æ™‚åˆ»ã®å…¥åŠ›ä¸è¦

**è‡ªå‹•åŒ–:**
- âœ… å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡: å®Œå…¨è‡ªå‹•ï¼ˆStatuså¤‰æ›´ã®ã¿ï¼‰
- âœ… Airtable Statusæ›´æ–°: å®Œå…¨è‡ªå‹•ï¼ˆPaymentEmailSentï¼‰
- âœ… äºŒé‡é€ä¿¡é˜²æ­¢: æ§‹é€ çš„ã«ä¸å¯èƒ½

**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸çµ±ä¸€:**
- âœ… ã€Œ1ã€œ2å–¶æ¥­æ—¥ã€è¡¨è¨˜ã‚’å…¨å‰Šé™¤
- âœ… ã€Œå³æ™‚å¯¾å¿œã€ã‚’å…¨ãƒšãƒ¼ã‚¸ã§çµ±ä¸€
- âœ… Airtable Automation ã«ã‚ˆã‚‹å³æ™‚å¯¾å¿œã‚’æ­£ç¢ºã«åæ˜ 

---

#### **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤**

**å³æ™‚åŠ¹æœ:**
- âœ… **é¡§å®¢æº€è¶³åº¦å‘ä¸Š**: å…¥åŠ›è² æ‹…50%å‰Šæ¸›ï¼ˆ6é …ç›®â†’4é …ç›®ï¼‰
- âœ… **ä¸å®‰è»½æ¸›**: ã€Œå³æ™‚å¯¾å¿œã€ã‚’æ˜ç¤ºï¼ˆ1ã€œ2å–¶æ¥­æ—¥å¾…ã¡ã®å°è±¡æ‰•æ‹­ï¼‰
- âœ… **é‹ç”¨åŠ¹ç‡åŒ–**: å‡ºå…ˆã§ã‚‚ã‚¹ãƒãƒ›1ã¤ã§å®Œçµï¼ˆ30ç§’ï¼‰

**é•·æœŸé‹ç”¨ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: æœˆé–“100ä»¶ã§ã‚‚è‡ªå‹•å¯¾å¿œå¯èƒ½
- âœ… **å“è³ªçµ±ä¸€**: å…¨é¡§å®¢ã«åŒã˜é«˜å“è³ªãƒ¡ãƒ¼ãƒ«é€ä¿¡
- âœ… **ç›£æŸ»å¯èƒ½æ€§**: SendGridé€ä¿¡ãƒ­ã‚° + Airtableå±¥æ­´ã§è¿½è·¡å¯èƒ½

---

#### **ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±**

**ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ï¼ˆ7å›ï¼‰:**
1. `9fa458fd` - å…¥é‡‘ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆæ‰‹å‹•ç®¡ç†ç”»é¢ï¼‰
2. `0f29bab3` - emailå¤‰æ•°ãƒã‚°ä¿®æ­£
3. `3e278c00` - Airtable Automationå¯¾å¿œï¼ˆå®Œå…¨è‡ªå‹•åŒ–ï¼‰
4. `6e41e749` - æŒ¯è¾¼åç¾©äººãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤ï¼ˆ9ãƒšãƒ¼ã‚¸ï¼‰
5. `d0d335da` - æŒ¯è¾¼æ™‚åˆ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤ï¼ˆæŒ¯è¾¼å®Œäº†æ—¥ã«çµ±ä¸€ï¼‰
6. `9143a05c` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ”¹å–„ï¼ˆå³æ™‚å¯¾å¿œã‚’å¼·èª¿ï¼‰
7. `65eeda3f` - ã€Œ1ã€œ2å–¶æ¥­æ—¥ã€è¡¨è¨˜ã‚’å…¨å‰Šé™¤
8. `746b6a08` - Archive/éå»ã®å®Ÿç¸¾è¨˜è¿°ã‚’å…¨ãƒ—ãƒ©ãƒ³å‰Šé™¤

**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°:**
- Netlify Functions: 2ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦ï¼‰
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: 9ãƒšãƒ¼ã‚¸ï¼ˆä¿®æ­£ï¼‰
- è¨­å®šã‚¬ã‚¤ãƒ‰: 1ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦ï¼‰
- åˆè¨ˆ: 12ãƒ•ã‚¡ã‚¤ãƒ«

**å¤‰æ›´è¡Œæ•°:**
- æŒ¿å…¥: 1,538è¡Œ
- å‰Šé™¤: 160è¡Œ

---

#### **é–¢é€£ã‚·ã‚¹ãƒ†ãƒ é€£æº**

| ã‚·ã‚¹ãƒ†ãƒ  | å½¹å‰² |
|---------|------|
| **bank-transfer-application.js** | éŠ€è¡ŒæŒ¯è¾¼ç”³è«‹å—ä»˜ â†’ ç®¡ç†è€…é€šçŸ¥ â†’ Airtable/BlastMailç™»éŒ² |
| **send-payment-confirmation.js** | æ‰‹å‹•ç®¡ç†ç”»é¢ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨ãƒ»å»ƒæ­¢äºˆå®šï¼‰ |
| **send-payment-confirmation-auto.js** | å…¥é‡‘ç¢ºèª â†’ é¡§å®¢é€šçŸ¥ â†’ PaymentEmailSentæ›´æ–°ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰ |
| **Airtable Automation** | Statuså¤‰æ›´æ¤œçŸ¥ â†’ Netlify Functionè‡ªå‹•å‘¼ã³å‡ºã— |
| **SendGrid** | ãƒ¡ãƒ¼ãƒ«é€ä¿¡API |
| **BlastMail** | ãƒ¡ãƒ«ãƒã‚¬ãƒªã‚¹ãƒˆè‡ªå‹•ç™»éŒ²ï¼ˆç”³è«‹æ™‚ï¼‰ |

---

#### **é‹ç”¨ãƒ•ãƒ­ãƒ¼ï¼ˆå®Œå…¨è‡ªå‹•åŒ–ï¼‰**

**Step 1: é¡§å®¢ãŒéŠ€è¡ŒæŒ¯è¾¼ç”³è«‹**
```
/pricing/ ã‚„ /dashboard/ ã§ã€ŒéŠ€è¡ŒæŒ¯è¾¼ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
â†’ ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆ4é …ç›®: åå‰ã€ãƒ¡ãƒ¼ãƒ«ã€æŒ¯è¾¼å®Œäº†æ—¥ã€å‚™è€ƒï¼‰
â†’ é€ä¿¡
â†’ ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«é€ä¿¡ âœ…
â†’ é¡§å®¢ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆç”³è«‹å—ä»˜ç¢ºèªï¼‰ âœ…
â†’ Airtable/BlastMailè‡ªå‹•ç™»éŒ² âœ…
```

**Step 2: ç®¡ç†è€…ãŒå…¥é‡‘ç¢ºèª**
```
éŠ€è¡Œã‚¢ãƒ—ãƒªã§å…¥é‡‘ç¢ºèª
â†’ Airtableã‚¢ãƒ—ãƒªã‚’é–‹ãï¼ˆã‚¹ãƒãƒ›ã§ã‚‚å¯ï¼‰
â†’ Statusã‚’ "pending" â†’ "active" ã«å¤‰æ›´ï¼ˆã‚¿ãƒƒãƒ—2å›ï¼‰
â†’ è‡ªå‹•çš„ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡ âœ…
â†’ PaymentEmailSentè‡ªå‹•æ›´æ–° âœ…
```

**æ‰€è¦æ™‚é–“:**
- é¡§å®¢: ç´„1åˆ†ï¼ˆãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼‰
- ç®¡ç†è€…: ç´„30ç§’ï¼ˆStatuså¤‰æ›´ã®ã¿ï¼‰

---

#### **æ¬¡å›åˆ©ç”¨æ™‚ã®æ‰‹é †**

**Airtable Automationè¨­å®šï¼ˆåˆå›ã®ã¿ï¼‰:**
1. `AIRTABLE_PAYMENT_AUTOMATION_SETUP.md` ã‚’å‚ç…§
2. Customersãƒ†ãƒ¼ãƒ–ãƒ«ã« `PaymentEmailSent` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
3. Automationä½œæˆï¼ˆTrigger: Status = "active" AND PaymentEmailSent â‰  trueï¼‰
4. Webhookè¨­å®šï¼ˆ`/.netlify/functions/send-payment-confirmation-auto`ï¼‰
5. ãƒ†ã‚¹ãƒˆ â†’ æœ‰åŠ¹åŒ–

**æ—¥å¸¸é‹ç”¨:**
1. éŠ€è¡Œå£åº§ã§å…¥é‡‘ç¢ºèª
2. Airtableã§è©²å½“ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’é–‹ã
3. Status ã‚’ "active" ã«å¤‰æ›´
4. â†’ è‡ªå‹•çš„ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡ âœ…

---

#### **æ•™è¨“ãƒ»å­¦ã³**

**1. UXæ”¹å–„ã¯æ®µéšçš„ã«**
- åˆæœŸå®Ÿè£…: 6é …ç›®ï¼ˆéå‰°ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯: ã€ŒæŒ¯è¾¼åç¾©äººã¯ä¸è¦ã€ã€Œæ™‚åˆ»ã‚‚ä¸è¦ã€
- æœ€çµ‚å½¢æ…‹: 4é …ç›®ï¼ˆ33%å‰Šæ¸›ï¼‰

**2. è‡ªå‹•åŒ–ã¯ã€Œå®Œå…¨è‡ªå‹•ã€ã‚’ç›®æŒ‡ã™**
- æ‰‹å‹•ç®¡ç†ç”»é¢ã¯å‡ºå…ˆå¯¾å¿œãŒå›°é›£
- Airtable Automation ã«ã‚ˆã‚Šã€ã‚¹ãƒãƒ›1ã¤ã§å®Œçµ
- æ‰€è¦æ™‚é–“: 10åˆ† â†’ 30ç§’ï¼ˆ95%å‰Šæ¸›ï¼‰

**3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€è²«æ€§**
- ã€Œ1ã€œ2å–¶æ¥­æ—¥ã€è¡¨è¨˜ãŒè¤‡æ•°ç®‡æ‰€ã«æ®‹ã£ã¦ã„ãŸ
- å…¨ãƒšãƒ¼ã‚¸ä¸€æ‹¬æ¤œç´¢ãƒ»ç½®æ›ã§å®Œå…¨çµ±ä¸€
- Airtable Automation ã«ã‚ˆã‚‹å³æ™‚å¯¾å¿œã‚’æ­£ç¢ºã«åæ˜ 

**4. å†ªç­‰æ€§è¨­è¨ˆã®é‡è¦æ€§**
- PaymentEmailSent ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§äºŒé‡é€ä¿¡é˜²æ­¢
- Webhookçµ±åˆã®å†ªç­‰æ€§è¨­è¨ˆï¼ˆevent_idé‡è¤‡æ’é™¤ãƒ»performUpsertï¼‰ã¨åŒæ§˜ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

---


